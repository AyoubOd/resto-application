!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("prettier/standalone")):"function"==typeof define&&define.amd?define(["exports","prettier/standalone"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).prettierPlugins=t.prettierPlugins||{},t.prettierPlugins.php={}),t.prettier)}(this,(function(t,e){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=i(e);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,s,r=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(n=i.next()).done)&&(r.push(n.value),!e||r.length!==e);o=!0);}catch(t){a=!0,s=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw s}}return r}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=c(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}var d={matchST_ATTRIBUTE:function(){var t=0,e=this.input();if(this.is_WHITESPACE()){do{e=this.input()}while(this.is_WHITESPACE());return this.unput(1),null}switch(e){case"]":return 0===t?this.popState():t--,"]";case"(":case")":case":":case"=":return this.consume_TOKEN();case"[":return t++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":if("/"===this._input[this.offset])return this.T_COMMENT();if("*"===this._input[this.offset])return this.input(),this.T_DOC_COMMENT()}if(this.is_LABEL_START()||"\\"===e){for(;this.offset<this.size;){var i=this.input();if(!this.is_LABEL()&&"\\"!==i){i&&this.unput(1);break}}return this.tok.T_STRING}if(this.is_NUM())return this.consume_NUM();throw new Error('Bad terminal sequence "'.concat(e,'" at line ').concat(this.yylineno," (offset ").concat(this.offset,")"))}};d.matchST_ATTRIBUTE;var p={T_COMMENT:function(){for(;this.offset<this.size;){var t=this.input();if("\n"===t||"\r"===t)return this.tok.T_COMMENT;if("?"===t&&!this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT;if("%"===t&&this.aspTagMode&&">"===this._input[this.offset])return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){var t=this.input(),e=this.tok.T_COMMENT;if("*"===t){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),"/"===t)return e;this.unput(1)}for(;this.offset<this.size;)if("*"===(t=this.input())&&"/"===this._input[this.offset]){this.input();break}return e}};p.T_COMMENT,p.T_DOC_COMMENT;var f={nextINITIAL:function(){return this.conditionStack.length>1&&"INITIAL"===this.conditionStack[this.conditionStack.length-1]?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){var t=this.input();if("<"==t)if("?"==(t=this.ahead(1))){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}if(this.tryMatchCaseless("?php")&&(" "===(t=this._input[this.offset+4])||"\t"===t||"\n"===t||"\r"===t)){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&"%"==t){if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}return this.yytext.length>0&&this.tok.T_INLINE_HTML}};f.nextINITIAL,f.matchINITIAL;var T={consume_NUM:function(){var t=this.yytext[0],e="."===t;if("0"===t)if("x"===(t=this.input())||"X"===t){if("_"!==(t=this.input())&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if("b"===t||"B"===t){if("_"!==(t=this.input())&&"0"===t||"1"===t)return this.consume_BNUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){var i=t;if("_"===(t=this.input())){if("_"===i){this.unput(2);break}if("."===i){this.unput(1);break}if("e"===i||"E"===i){this.unput(2);break}}else{if("."===t){if(e){this.unput(1);break}if("_"===i){this.unput(2);break}e=!0;continue}if("e"===t||"E"===t){if("_"===i){this.unput(1);break}var n=2;if("+"!==(t=this.input())&&"-"!==t||(n=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?n:n-1);break}}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<9||this.yytext.length<10||10==this.yytext.length&&this.yytext<"2147483648"?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){for(var t;this.offset<this.size;)if("0"!==(t=this.input())&&"1"!==t&&"_"!==t){t&&this.unput(1);break}return this.tok.T_LNUMBER}};T.consume_NUM,T.consume_HNUM,T.consume_LNUM,T.consume_BNUM;var k={matchST_LOOKING_FOR_PROPERTY:function(){var t=this.input();if("-"===t){if(">"===(t=this.input()))return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){var t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),"["===(t=this.input())||"}"===t)return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){var t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if("]"===t)return this.popState(),"]";if("$"===t){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||"\\"===t||"'"===t||"#"===t)return this.tok.T_ENCAPSED_AND_WHITESPACE;if("["===t||"{"===t||"}"===t||'"'===t||"`"===t||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}};k.matchST_LOOKING_FOR_PROPERTY,k.matchST_LOOKING_FOR_VARNAME,k.matchST_VAR_OFFSET;var m={matchST_IN_SCRIPTING:function(){var t=this.input();switch(t){case" ":case"\t":case"\n":case"\r":case"\r\n":return this.T_WHITESPACE();case"#":return this.version>=800&&"["===this._input[this.offset]?(this.input(),this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return"/"===this._input[this.offset]?this.T_COMMENT():"*"===this._input[this.offset]?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();var e=this._input[this.offset];return"\n"!==e&&"\r"!==e||this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&">"===this._input[this.offset]?(this.input(),"\n"!==(t=this._input[this.offset])&&"\r"!==t||this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if("."===t){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){var t=this.input();if(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}};m.matchST_IN_SCRIPTING,m.T_WHITESPACE;var E=["\n","\r"],x=["\n","\r",";"],y=x.concat(["\t"," ",",","]",")","/","=","!"]),v={T_CONSTANT_ENCAPSED_STRING:function(){for(var t;this.offset<this.size;)if("\\"==(t=this.input()))this.input();else if("'"==t)break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){var t=this.offset;if("<"===this._input[this.offset-1]&&"<"===this._input[this.offset]&&"<"===this._input[this.offset+1]){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,this.is_TABSPACE()););var e=this._input[this.offset-1];if("'"===e||'"'===e?this.offset++:e=null,this.is_LABEL_START()){for(var i=this.offset-1;this.offset<this.size&&(this.offset++,this.is_LABEL()););var n=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,E.includes(this._input[this.offset-1])))return this.heredoc_label.label=n,this.heredoc_label.length=n.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),"'"===e?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){for(var t;this.offset<this.size;)if("\\"==(t=this.input()))this.input();else{if('"'==t)break;if("$"==t){if("{"==(t=this.input())||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if("{"==t){if("$"==(t=this.input())){this.unput(2);break}t&&this.unput(1)}}if('"'==t)return this.tok.T_CONSTANT_ENCAPSED_STRING;var e=1;return"b"!==this.yytext[0]&&"B"!==this.yytext[0]||(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext},isDOC_MATCH:function(t,e){var i=this._input[t-2];if(!E.includes(i))return!1;var n=!1,s=!1,r=0,o=this._input[t-1];if(this.version>=703){for(;"\t"===o||" "===o;)" "===o?n=!0:"\t"===o&&(s=!0),o=this._input[t+r],r++;if(t+=r,E.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){var a=this._input[t-1+this.heredoc_label.length];if((this.version>=703?y:x).includes(a)){if(e){if(this.consume(r),n&&s)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=r,this.heredoc_label.indentation_uses_spaces=n,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;for(var t=this.offset+1;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!E.includes(this._input[t-1]))for(;!E.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;for(var t=this._input[this.offset-1];this.offset<this.size;)if(E.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){var t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if("\\"===t&&(t=this.input(),E.includes(t)||(t=this.input())),E.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();var t=this.input();if("["==t)return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if("-"===t){if(">"===this.input())return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){var t=this.input();if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if("`"===t)return this.popState(),"`";for(;this.offset<this.size;){if("\\"===t)this.input();else{if("`"===t){this.unput(1),this.popState(),this.appendToken("`",1);break}if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){var t=this.input();if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if("{"===t){if("$"===this._input[this.offset])return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if('"'===t)return this.popState(),'"';for(;this.offset<this.size;){if("\\"===t)this.input();else{if('"'===t){this.unput(1),this.popState(),this.appendToken('"',1);break}if("$"===t){if("{"===(t=this.input()))return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){var e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if("{"===t){if("$"===(t=this.input()))return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}};v.T_CONSTANT_ENCAPSED_STRING,v.is_HEREDOC,v.ST_DOUBLE_QUOTES,v.isDOC_MATCH,v.prematch_ENDOFDOC,v.matchST_NOWDOC,v.matchST_HEREDOC,v.consume_VARIABLE,v.matchST_BACKQUOTE,v.matchST_DOUBLE_QUOTES;var A={T_STRING:function(){var t=this.yytext.toLowerCase(),e=this.keywords[t];if("number"!=typeof e)if("yield"===t)this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,"b"===t||"B"===t){var i=this.input(1);if('"'===i)return this.ST_DOUBLE_QUOTES();if("'"===i)return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}return e},consume_TOKEN:function(){var t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){var t=this._input[this.offset];return">"===t?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):"-"===t?(this.input(),this.tok.T_DEC):"="===t?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){return this.tok.T_NS_SEPARATOR},"/":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return":"===this._input[this.offset]?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){var t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){var e=this.yytext.length;this.consume_LABEL();var i=this.yytext.substring(e-1).toLowerCase(),n=this.castKeywords[i];if("number"==typeof n&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),")"===this._input[this.offset-1]))return n}return this.unput(this.offset-t),"("},"=":function(){var t=this._input[this.offset];return">"===t?(this.input(),this.tok.T_DOUBLE_ARROW):"="===t?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){var t=this._input[this.offset];return"+"===t?(this.input(),this.tok.T_INC):"="===t?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return"="===this._input[this.offset]?"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&"?"===this._input[this.offset]?this.version>=704&&"="===this._input[this.offset+1]?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&"-"===this._input[this.offset]&&">"===this._input[this.offset+1]?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){var t=this._input[this.offset];return"<"===t?"="===(t=this._input[this.offset+1])?(this.consume(2),this.tok.T_SL_EQUAL):"<"===t&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL):"="===t?(this.input(),this.version>=700&&">"===this._input[this.offset]?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):">"===t?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):">"===t?"="===(t=this._input[this.offset+1])?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR):">"},"*":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_MUL_EQUAL):"*"===t?(this.input(),"="===this._input[this.offset]?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_CONCAT_EQUAL):"."===t&&"."===this._input[this.offset+1]?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_AND_EQUAL):"&"===t?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){var t=this._input[this.offset];return"="===t?(this.input(),this.tok.T_OR_EQUAL):"|"===t?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return"="===this._input[this.offset]?(this.input(),this.tok.T_XOR_EQUAL):"^"}}};A.T_STRING,A.consume_TOKEN,A.tokenTerminals;var g={is_NUM:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||95===t},is_NUM_START:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){var t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||95===t||t>47&&t<58||t>126},is_LABEL_START:function(){var t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||(t>96&&t<123||(95===t||t>126))},consume_LABEL:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){var t=this._input[this.offset-1];return-1!==";:,.\\[]()|^&+-/*=%!~$<>?@".indexOf(t)},is_WHITESPACE:function(){var t=this._input[this.offset-1];return" "===t||"\t"===t||"\n"===t||"\r"===t},is_TABSPACE:function(){var t=this._input[this.offset-1];return" "===t||"\t"===t},consume_TABSPACE:function(){for(;this.offset<this.size;){var t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){var t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||(t>64&&t<71||(t>96&&t<103||95===t))}};g.is_NUM,g.is_NUM_START,g.is_LABEL,g.is_LABEL_START,g.consume_LABEL,g.is_TOKEN,g.is_WHITESPACE,g.is_TABSPACE,g.consume_TABSPACE,g.is_HEX;var N=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};N.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this},N.prototype.input=function(){var t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,"\r"===t&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++),"\n"===t||"\r"===t?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""},N.prototype.unput=function(t){if(1===t)this.offset--,"\n"===this._input[this.offset]&&"\r"===this._input[this.offset-1]&&(this.offset--,t++),"\r"===this._input[this.offset]||"\n"===this._input[this.offset]?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(var e=0;e<this.yytext.length;e++){var i=this.yytext[e];"\r"===i?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,"\n"!==i&&("\r"===i?this.yylloc.last_line++:this.yylloc.last_column++)):"\n"===i?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this},N.prototype.tryMatch=function(t){return t===this.ahead(t.length)},N.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()},N.prototype.ahead=function(t){var e=this._input.substring(this.offset,this.offset+t);return"\r"===e[e.length-1]&&"\n"===this._input[this.offset+t+1]&&(e+="\n"),e},N.prototype.consume=function(t){for(var e=0;e<t;e++){var i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,"\r"===i&&"\n"===this._input[this.offset]&&(this.yytext+="\n",this.offset++,e++),"\n"===i||"\r"===i?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this},N.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}},N.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this},N.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this},N.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;var t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t},N.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+t+'"');return this},N.prototype.popState=function(){var t=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],"function"!=typeof this.stateCb)throw new Error('Undefined condition state "'+this.curCondition+'"');return t},N.prototype.next=function(){var t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?("object"===o((t=this.tokens.shift())[1])?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&0===this.tokens.length&&(this.done=!0),this.debug){var e=t;e="number"==typeof e?this.engine.tokens.values[e]:'"'+e+'"';var i=new Error(e+"\tfrom "+this.yylloc.first_line+","+this.yylloc.first_column+"\t - to "+this.yylloc.last_line+","+this.yylloc.last_column+'\t"'+this.yytext+'"');console.error(i.stack)}return t},[d,p,f,T,k,m,v,A,g].forEach((function(t){for(var e in t)N.prototype[e]=t[e]}));var C=N,S=function(t,e,i){this.line=t,this.column=e,this.offset=i},b={read_array:function(){var t=null,e=!1,i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");var n=[];return this.next().token!==t&&(n=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,n)},read_array_pair_list:function(t){var e=this;return this.read_list((function(){return e.read_array_pair(t)}),",",!0)},read_array_pair:function(t){if(!(!t&&")"===this.token||t&&"]"===this.token)){if(","===this.token)return this.node("noop")();var e=this.node("entry"),i=null,n=null,s=!1,r=!1;if("&"===this.token)this.next(),s=!0,n=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),"&"===this.token&&this.error(),r=!0,n=this.read_expr();else{var o=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=o,"&"===this.token?(this.next(),s=!0,n=this.read_variable(!0,!1)):n=this.read_expr()):n=o}return e(i,n,s,r)}}};b.read_array,b.read_array_pair_list,b.read_array_pair;var L={read_class_declaration_statement:function(t){var e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);var n=this.node("identifier"),s=this.text();this.next(),n=n(s);var r=this.read_extends_from(),o=this.read_implements_list();this.expect("{");var a=e(n,r,o,this.next().read_class_body(!0,!1),i);return t&&(a.attrGroups=t),a},read_class_modifiers:function(){return[0,0,this.read_class_modifier()]},read_class_modifier:function(){return this.token===this.tok.T_ABSTRACT?(this.next(),1):this.token===this.tok.T_FINAL?(this.next(),2):0},read_class_body:function(t,e){for(var i=[],n=[];this.token!==this.EOF&&"}"!==this.token;)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT)if(this.token!==this.tok.T_USE)if(e&&this.token===this.tok.T_CASE){var s=this.read_enum_case();this.expect(";")&&this.next(),i=i.concat(s)}else{this.token===this.tok.T_ATTRIBUTE&&(n=this.read_attr_list());var r=this.position(),o=this.read_member_flags(!1);if(this.token!==this.tok.T_CONST)if(t&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),o[0]=null,o[1]=0),this.token===this.tok.T_FUNCTION)i.push(this.read_function(!1,o,n,r)),n=[];else if(t&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&("?"===this.token||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_ARRAY||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE))){var a=this.read_variable_list(o,n);n=[],this.expect(";"),this.next(),i=i.concat(a)}else this.error([this.tok.T_CONST].concat(l(t?[this.tok.T_VARIABLE]:[]),l(e?[this.tok.T_CASE]:[]),[this.tok.T_FUNCTION])),this.next();else{var h=this.read_constant_list(o,n);this.expect(";")&&this.next(),i=i.concat(h)}}else i=i.concat(this.read_trait_use_statement());else i.push(this.read_doc_comment());else i.push(this.read_comment());return this.expect("}"),this.next(),i},read_variable_list:function(t,e){var i=this.node("propertystatement"),n=this.read_list((function(){var t=this.node("property"),i=!1;this.token===this.tok.T_READ_ONLY&&(i=!0,this.next());var n=h(this.read_optional_type(),2),s=n[0],r=n[1];this.expect(this.tok.T_VARIABLE);var o=this.node("identifier"),a=this.text().substring(1);return this.next(),o=o(a),";"===this.token||","===this.token?t(o,null,i,s,r,e||[]):"="===this.token?t(o,this.next().read_expr(),i,s,r,e||[]):(this.expect([",",";","="]),t(o,null,s,r,e||[]))}),",");return i(null,n,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();var i=this.node("classconstant"),n=this.read_list((function(){var t=this.node("constant"),e=null,i=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){e=this.node("identifier");var n=this.text();this.next(),e=e(n)}else this.expect("IDENTIFIER");return this.expect("=")&&(i=this.next().read_expr()),t(e,i)}),",");return i(null,n,t,e||[])},read_member_flags:function(t){var e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){var i=0,n=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,n=0;break;case this.tok.T_PROTECTED:i=0,n=1;break;case this.tok.T_PRIVATE:i=0,n=2;break;case this.tok.T_STATIC:i=1,n=1;break;case this.tok.T_ABSTRACT:i=2,n=1;break;case this.tok.T_FINAL:i=2,n=2}t&&(0==i&&2==n?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),n=-1):2==i&&1==n&&(this.error(),n=-1)),-1!==e[i]?this.error():-1!==n&&(e[i]=n)}while(this.next().is("T_MEMBER_FLAGS"))}return-1==e[1]&&(e[1]=0),-1==e[2]&&(e[2]=0),e},read_optional_type:function(){var t=!1;"?"===this.token&&(t=!0,this.next());var e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if("|"===this.token){e=[e];do{this.next();var i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}e.push(i)}while("|"===this.token)}return[t,e]},read_interface_declaration_statement:function(t){var e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);var i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=this.read_interface_extends_list();return this.expect("{"),e(i,s,this.next().read_interface_body(),t||[])},read_interface_body:function(){for(var t=[],e=[];this.token!==this.EOF&&"}"!==this.token;)if(this.token!==this.tok.T_COMMENT)if(this.token!==this.tok.T_DOC_COMMENT){var i=this.position();e=this.read_attr_list();var n=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){var s=this.read_constant_list(n,e);this.expect(";")&&this.next(),t=t.concat(s),e=[]}else if(this.token===this.tok.T_FUNCTION){var r=this.read_function_declaration(2,n,e,i);r.parseFlags(n),t.push(r),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}else t.push(this.read_doc_comment());else t.push(this.read_comment());return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){var t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);var e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("{"),t(e,this.next().read_class_body(!0,!1))},read_trait_use_statement:function(){var t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();for(var e=[this.read_namespace_name()],i=null;","===this.token;)e.push(this.next().read_namespace_name());if("{"===this.token){for(i=[];this.next().token!==this.EOF&&"}"!==this.token;)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){var t,e=this.node(),i=null;if(this.is("IDENTIFIER")){t=this.node("identifier");var n=this.text();this.next(),t=t(n)}else if(t=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){i=t,t=this.node("identifier");var s=this.text();this.next(),t=t(s)}else this.expect(this.tok.T_STRING);else t=t.name;if(this.token===this.tok.T_INSTEADOF)return e("traitprecedence",i,t,this.next().read_name_list());if(this.token===this.tok.T_AS){var r=null,o=null;if(this.next().is("T_MEMBER_FLAGS")&&(r=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){o=this.node("identifier");var a=this.text();this.next(),o=o(a)}else!1===r&&this.expect(this.tok.T_STRING);return e("traitalias",i,t,o,r)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),e("traitalias",i,t,null,null)}};L.read_class_declaration_statement,L.read_class_modifiers,L.read_class_modifier,L.read_class_body,L.read_variable_list,L.read_constant_list,L.read_member_flags,L.read_optional_type,L.read_interface_declaration_statement,L.read_interface_body,L.read_trait_declaration_statement,L.read_trait_use_statement,L.read_trait_use_alias;var O={read_comment:function(){var t=this.text(),e=this.ast.prepare("/*"===t.substring(0,2)?"commentblock":"commentline",null,this),i=this.lexer.yylloc.first_offset,n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(e=e(t)).offset=i,this.prev=n,e},read_doc_comment:function(){var t=this.ast.prepare("commentblock",null,this),e=this.lexer.yylloc.first_offset,i=this.text(),n=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),(t=t(i)).offset=e,this.prev=n,t}};O.read_comment,O.read_doc_comment;var I={read_expr:function(t){var e=this.node();if("@"===this.token)return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),"|"===this.token)return e("bin","|",t,this.next().read_expr());if("&"===this.token)return e("bin","&",t,this.next().read_expr());if("^"===this.token)return e("bin","^",t,this.next().read_expr());if("."===this.token)return e("bin",".",t,this.next().read_expr());if("+"===this.token)return e("bin","+",t,this.next().read_expr());if("-"===this.token)return e("bin","-",t,this.next().read_expr());if("*"===this.token)return e("bin","*",t,this.next().read_expr());if("/"===this.token)return e("bin","/",t,this.next().read_expr());if("%"===this.token)return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if("<"===this.token)return e("bin","<",t,this.next().read_expr());if(">"===this.token)return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),";"!==this.token&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if("?"===this.token){var i=null;return":"!==this.next().token&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}return e.destroy(t),t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){var t=null;switch(this.token){case this.tok.T_ISSET:t=this.node("isset"),this.next().expect("(")&&this.next();var e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e);break;case this.tok.T_EMPTY:t=this.node("empty"),this.next().expect("(")&&this.next();var i=this.read_expr();this.expect(")")&&this.next(),t=t(i);break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:t=this.node("eval"),this.next().expect("(")&&this.next();var n=this.read_expr();this.expect(")")&&this.next(),t=t(n);break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr())}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){var t=null;return"("===this.token&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){var t,e,i=[];if("+"===this.token)return this.node("unary")("+",this.next().read_expr());if("-"===this.token)return this.node("unary")("-",this.next().read_expr());if("!"===this.token)return this.node("unary")("!",this.next().read_expr());if("~"===this.token)return this.node("unary")("~",this.next().read_expr());if("("===this.token)return(e=this.next().read_expr()).parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if("`"===this.token)return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){var n=null,s=this.innerList;t=this.node("list"),s||(n=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);var r=this.read_array_pair_list(!1);this.expect(")")&&this.next();for(var o=!1,a=0;a<r.length;a++)if(null!==r[a]&&"noop"!==r[a].kind){o=!0;break}return o||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),s?t(r,!1):(this.innerList=!1,this.expect("=")?n(t(r,!1),this.next().read_expr(),"="):t(r,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(-1!==this.text().indexOf("binary")?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:return this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression"),this.node("throw")(this.next().read_expr());case this.tok.T_EXIT:var h="die"===this.lexer.yytext.toLowerCase();return t=this.node("exit"),this.next(),t(this.read_exit_expr(),h);case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:var l=null,c=null;return t=this.node("yield"),this.next().is("EXPR")&&(l=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(c=l,l=this.next().read_expr())),t(l,c);case this.tok.T_YIELD_FROM:return(t=this.node("yieldfrom"))(e=this.next().read_expr());case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:var u=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(u),this.next()}if(this.is("VARIABLE")){t=this.node();var _="identifier"===(e=this.read_variable(!1,!1)).kind||"staticlookup"===e.kind&&"identifier"===e.offset.kind;switch(this.token){case"=":return _&&this.error("VARIABLE"),"&"==this.next().token?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return _&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return _&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return _&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else{if(this.is("SCALAR")){if(t=this.node(),"array"===(e=this.read_scalar()).kind&&e.shortForm&&"="===this.token){var d=this.convertToList(e);return e.loc&&(d.loc=e.loc),t("assign",d,this.next().read_expr(),"=")}return t.destroy(e),this.handleDereferencable(e)}this.error("EXPR"),this.next()}return e},convertToList:function(t){var e=this,i=t.items.map((function(t){return t.value&&"array"===t.value.kind&&t.value.shortForm&&(t.value=e.convertToList(t.value)),t})),n=this.node("list")(i,!0);return t.loc&&(n.loc=t.loc),t.leadingComments&&(n.leadingComments=t.leadingComments),t.trailingComments&&(n.trailingComments=t.trailingComments),n},read_assignref:function(t,e){var i;return this.next(),this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){var i=this.read_function(!0,t,e);return i.attrGroups=e,i}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");var n=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();var s=this.is_reference();this.expect("(")&&this.next();var r=this.read_parameter_list();this.expect(")")&&this.next();var o=!1,a=null;":"===this.token&&("?"===this.next().token&&(o=!0,this.next()),a=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();var h=n(r,s,this.read_expr(),a,o,!!t);return h.attrGroups=e,h},read_match_expression:function(){var t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");var e,i;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){var t=this;return this.read_list((function(){return t.read_match_arm()}),",",!0)},read_match_arm:function(){if("}"!==this.token)return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){var t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());","===this.token;){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute:function(){var t=this.text(),e=[];return this.next(),"("===this.token&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list:function(){var t=[];if(this.token===this.tok.T_ATTRIBUTE)do{var e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());","===this.token;)this.next(),"]"!==this.token&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){var t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();var e=[],i=this.read_attr_list();if(this.token===this.tok.T_CLASS){var n=this.node("class");"("===this.next().token&&(e=this.read_argument_list());var s=this.read_extends_from(),r=this.read_implements_list(),o=null;this.expect("{")&&(o=this.next().read_class_body(!0,!1));var a=n(null,s,r,o,[0,0,0]);return a.attrGroups=i,t(a,e)}for(var h=this.read_new_class_name();"["===this.token;){var l=this.node("offsetlookup"),c=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),h=l(h,c)}return"("===this.token&&(e=this.read_argument_list()),t(h,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){var t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||"["===this.token)t=this.read_dereferencable(t);else{if("("!==this.token)return t;t=this.node("call")(t,this.read_argument_list())}return t}};I.read_expr,I.read_expr_cast,I.read_isset_variable,I.read_isset_variables,I.read_internal_functions_in_yacc,I.read_optional_expr,I.read_exit_expr,I.read_expr_item,I.convertToList,I.read_assignref,I.read_inline_function,I.read_match_expression,I.read_match_arms,I.read_match_arm,I.read_match_arm_conds,I.read_attribute,I.read_attr_list,I.read_new_expr,I.read_new_class_name,I.handleDereferencable;var R={read_enum_declaration_statement:function(t){var e=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);var i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=this.read_enum_value_type(),r=this.read_implements_list();this.expect("{");var o=e(i,s,r,this.next().read_class_body(!1,!0));return t&&(o.attrGroups=t),o},read_enum_value_type:function(){return":"===this.token?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);var t=this.node("enumcase"),e=this.node("identifier"),i=this.next().text();this.next(),e=e(i);var n="="===this.token?this.next().read_expr():null;return this.expect(";"),t(e,n)}};R.read_enum_declaration_statement,R.read_enum_value_type,R.read_enum_case;var w={is_reference:function(){return"&"===this.token&&(this.next(),!0)},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS&&(this.next(),!0)},read_function:function(t,e,i,n){var s=this.read_function_declaration(t?1:e?2:0,e&&1===e[1],i||[],n);return e&&1==e[2]?(s.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(s.body=this.read_code_block(!1),s.loc&&s.body.loc&&(s.loc.end=s.body.loc.end)),!t&&e&&s.parseFlags(e)),s},read_function_declaration:function(t,e,i,n){var s=this,r="function";1===t?r="closure":2===t&&(r="method");var o=this.node(r);this.expect(this.tok.T_FUNCTION)&&this.next();var a=this.is_reference(),h=!1,l=[],c=null,u=!1;if(1!==t){var _=this.node("identifier");2===t?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(h=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(h=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(h=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(h=this.text()),this.next()),h=_(h)}this.expect("(")&&this.next();var d=this.read_parameter_list("__construct"===h.name);this.expect(")")&&this.next(),1===t&&(l=this.read_lexical_vars()),":"===this.token&&("?"===this.next().token&&(u=!0,this.next()),c=this.read_types());var p=function(t){return t.attrGroups=i||[],n&&t.loc&&(t.loc.start=n,t.loc.source&&(t.loc.source=s.lexer._input.substr(t.loc.start.offset,t.loc.end.offset-t.loc.start.offset))),t};return p(1===t?o(d,a,l,c,u,e):o(h,d,a,c,u))},read_lexical_vars:function(){var t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){for(var e=[];this.token!=this.EOF;){if(e.push(t()),","!=this.token){if(")"==this.token)break;this.error([",",")"]);break}if(this.next(),this.version>=800&&")"===this.token)return e}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if("&"===this.token)return this.read_byref(this.read_lexical_var.bind(this));var t=this.node("variable");this.expect(this.tok.T_VARIABLE);var e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(t){return")"!=this.token?this.read_list_with_dangling_comma(this.read_parameter.bind(this,t)):[]},read_parameter:function(t){var e,i=this.node("parameter"),n=null,s=null,r=!1,o=!1,a=[];this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list());var h=this.read_promoted();this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),o=!0):this.raiseError("readonly properties can be used only on class constructor")),"?"===this.token&&(this.next(),r=!0),e=this.read_types(),r&&!e&&this.raiseError("Expecting a type definition combined with nullable operator");var l=this.is_reference(),c=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){n=this.node("identifier");var u=this.text().substring(1);this.next(),n=n(u)}"="==this.token&&(s=this.next().read_expr());var _=i(n,e,s,l,c,o,r,h);return a&&(_.attrGroups=a),_},read_types:function(){var t=[],e=!1,i=this.read_type();if(!i)return null;for(t.push(i);"|"===this.token||this.version>=801&&"&"===this.token;){if("&"===this.token){e=!0;var n=this.peek();if(n===this.tok.T_ELLIPSIS||n===this.tok.T_VARIABLE)break}this.next(),t.push(this.read_type())}return 1===t.length?t[0]:e?this.node("intersectiontype")(t):this.node("uniontype")(t)},read_promoted:function(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){var t=[];return this.expect("(")&&this.next(),")"!==this.token&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){var t=!1;return this.read_function_list(function(){var e=this.read_argument();return e&&(t&&this.raiseError("Unexpected argument after a variadic argument"),"variadic"===e.kind&&(t=!0)),e}.bind(this),",")},read_argument:function(){if(this.token===this.tok.T_ELLIPSIS)return this.node("variadic")(this.next().read_expr());if((this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&":"===this.peek())return this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr());return this.read_expr()},read_type:function(){var t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){var e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}if(this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){var i=this.text(),n=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(i.toLowerCase())>-1?t("typereference",i.toLowerCase(),i):(this.lexer.tokens.push(n),this.next(),t.destroy(),this.read_namespace_name())}return this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NS_SEPARATOR?(t.destroy(),this.read_namespace_name()):(t.destroy(),null)}};w.is_reference,w.is_variadic,w.read_function,w.read_function_declaration,w.read_lexical_vars,w.read_list_with_dangling_comma,w.read_lexical_var_list,w.read_lexical_var,w.read_parameter_list,w.read_parameter,w.read_types,w.read_promoted,w.read_argument_list,w.read_non_empty_argument_list,w.read_argument,w.read_type;var D={read_if:function(){var t=this.node("if"),e=this.next().read_if_expr(),i=null,n=null,s=!1;if(":"===this.token){s=!0,this.next(),i=this.node("block");for(var r=[];this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){n=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){n=this.read_else_short();break}r.push(this.read_inner_statement())}i=i(null,r),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?n=this.read_if():this.token===this.tok.T_ELSE&&(n=this.next().read_statement());return t(e,i,n,s)},read_if_expr:function(){this.expect("(")&&this.next();var t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){var t=null,e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();for(var n=this.node("block"),s=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}s.push(this.read_inner_statement())}return e(i,n(null,s),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();for(var t=this.node("block"),e=[];this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}};D.read_if,D.read_if_expr,D.read_elseif_short,D.read_else_short;var P={read_while:function(){var t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();var e,i=null,n=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),":"===this.token?(n=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,n)},read_do:function(){var t=this.node("do");this.expect(this.tok.T_DO)&&this.next();var e,i=null;return e=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),i=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(i,e)},read_for:function(){var t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();var e=[],i=[],n=[],s=null,r=!1;return this.expect("(")&&this.next(),";"!==this.token?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),";"!==this.token?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),")"!==this.token?(n=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),":"===this.token?(r=!0,s=this.read_short_form(this.tok.T_ENDFOR)):s=this.read_statement(),t(e,i,n,s,r)},read_foreach:function(){var t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();var e,i=null,n=null,s=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),n=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=n,n=this.next().read_foreach_variable())),i&&"list"===i.kind&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),":"===this.token?(r=!0,s=this.read_short_form(this.tok.T_ENDFOREACH)):s=this.read_statement(),t(e,i,n,s,r)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||"["===this.token){var t="["===this.token,e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();var i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}return this.read_variable(!1,!1)}};P.read_while,P.read_do,P.read_for,P.read_foreach,P.read_foreach_variable;var U={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}};U.read_start;var B={read_namespace:function(){var t,e,i=this.node("namespace");return this.expect(this.tok.T_NAMESPACE)&&this.next(),e="{"==this.token?{name:[""]}:this.read_namespace_name(),this.currentNamespace=e,";"==this.token?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect(this.EOF),i(e.name,t,!1)):"{"==this.token?(this.currentNamespace=e,t=this.next().read_top_statements(),this.expect("}")&&this.next(),0===t.length&&this.extractDoc&&this._docs.length>this._docIndex&&t.push(this.node("noop")()),i(e.name,t,!0)):"("===this.token?(e.resolution=this.ast.reference.RELATIVE_NAME,e.name=e.name.substring(1),i.destroy(),this.node("call")(e,this.read_argument_list())):(this.error(["{",";"]),this.currentNamespace=e,t=this.read_top_statements(),this.expect(this.EOF),i(e,t,!1))},read_namespace_name:function(t){var e=this.node(),i=!1;this.token===this.tok.T_NAMESPACE&&(this.next().expect(this.tok.T_NS_SEPARATOR)&&this.next(),i=!0);var n=this.read_list(this.tok.T_STRING,this.tok.T_NS_SEPARATOR,!0);if(!i&&1===n.length&&(t||"("!==this.token)){if("parent"===n[0].toLowerCase())return e("parentreference",n[0]);if("self"===n[0].toLowerCase())return e("selfreference",n[0])}return e("name",n,i)},read_use_statement:function(){var t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();var n=this.read_use_type();return e.push(this.read_use_declaration(!1)),","===this.token?e=e.concat(this.next().read_use_declarations(!1)):"{"===this.token&&(i=e[0].name,e=this.next().read_use_declarations(null===n),this.expect("}")&&this.next()),t=t(i,n,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){var e=this.node("useitem"),i=null;t&&(i=this.read_use_type());var n=this.read_namespace_name(),s=this.read_use_alias();return e(n.name,s,i)},read_use_declarations:function(t){for(var e=[this.read_use_declaration(t)];","===this.token;){if(this.next(),t){if(this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){var t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){var e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}};B.read_namespace,B.read_namespace_name,B.read_use_statement,B.read_class_name_reference,B.read_use_declaration,B.read_use_declarations,B.read_use_alias,B.read_use_type;var M={"\\":"\\",$:"$",n:"\n",r:"\r",t:"\t",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)},F={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,(function(t,e,i){return M[e]?M[e]:"x"===e[0]||"X"===e[0]?String.fromCodePoint(parseInt(e.substr(1),16)):"u"===e[0]?String.fromCodePoint(parseInt(i,16)):String.fromCodePoint(parseInt(e,8))})):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,n){if(0===e)return t;this.check_heredoc_indentation_level(t,e,i,n);var s=i?" ":"\t",r=new RegExp("\\n".concat(s,"{").concat(e,"}"),"g"),o=new RegExp("^".concat(s,"{").concat(e,"}"));return n&&(t=t.replace(o,"")),t.replace(r,"\n")},check_heredoc_indentation_level:function(t,e,i,n){var s=t.length,r=0,o=0,a=!0,h=i?" ":"\t",l=!1;if(!n){if(-1===(r=t.indexOf("\n")))return;r++}for(;r<s;)a?t[r]===h?o++:l=!0:a=!1,"\n"!==t[r]&&l&&o<e?this.raiseError("Invalid body indentation level (expecting an indentation at least ".concat(e,")")):l=!1,"\n"===t[r]&&(a=!0,o=0),r++},read_dereferencable_scalar:function(){var t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:var e=this.node("string"),i=this.text(),n=0;"b"!==i[0]&&"B"!==i[0]||(n=1);var s='"'===i[n];this.next(),e=e(s,this.resolve_special_chars(i.substring(n+1,i.length-1),s),1===n,i),t=this.token===this.tok.T_DOUBLE_COLON?this.read_static_getter(e):e;break;case this.tok.T_ARRAY:case"[":t=this.read_array()}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();var t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:var i=this.node("number");return t=this.text(),this.next(),i(t,null);case this.tok.T_START_HEREDOC:if("ST_NOWDOC"===this.lexer.curCondition){var n=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));var s=t[t.length-1];"\n"===s?t="\r"===t[t.length-2]?t.substring(0,t.length-2):t.substring(0,t.length-1):"\r"===s&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();var r=this.lexer._input.substring(n,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),r,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,e}return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:var o=this.error("SCALAR");return this.next(),o}},read_dereferencable:function(t){var e,i,n=this.node("offsetlookup");return"["===this.token?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=n(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(e=n(t,i=this.read_encapsed_string_item(!1))),e},read_encapsed_string_item:function(t){var e,i,n,s=this.node("encapsedpart"),r=null,o=!1,a=this.node();if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){var h=this.text();this.next(),a=a("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(h,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):h,!1,h)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(r="simple",o=!0,n=null,this.next().token===this.tok.T_STRING_VARNAME){n=this.node("variable");var l=this.text();this.next(),"["===this.token?(n=n(l,!1),i=this.node("offsetlookup"),e=this.next().read_expr(),this.expect("]")&&this.next(),a=i(n,e)):a=n(l,!1)}else a=a("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)r="complex",a.destroy(),a=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(r="simple",a.destroy(),a=this.read_simple_variable(),"["===this.token&&(i=this.node("offsetlookup"),e=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),a=i(a,e)),this.token===this.tok.T_OBJECT_OPERATOR){i=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);var c=this.node("identifier");n=this.text(),this.next(),a=i(a,c(n))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);var u=this.text();this.next(),a.destroy(),a=a("string",!1,u,!1,u)}return this.lexer.heredoc_label.first_encaps_node=!1,s(a,r,o)},read_encapsed_string:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.lexer.yylloc.first_offset,n=this.node("encapsed");this.next();var s=this.lexer.yylloc.prev_offset-(e?1:0),r=[],o=null;for(o="`"===t?this.ast.encapsed.TYPE_SHELL:'"'===t?this.ast.encapsed.TYPE_STRING:this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)r.push(this.read_encapsed_string_item(!0));if(r.length>0&&"encapsedpart"===r[r.length-1].kind&&"string"===r[r.length-1].expression.kind){var a=r[r.length-1].expression,h=a.value[a.value.length-1];"\n"===h?"\r"===a.value[a.value.length-2]?a.value=a.value.substring(0,a.value.length-2):a.value=a.value.substring(0,a.value.length-1):"\r"===h&&(a.value=a.value.substring(0,a.value.length-1))}this.expect(t)&&this.next();var l=this.lexer._input.substring("heredoc"===o?i:s-1,this.lexer.yylloc.first_offset);return n=n(r,l,o),t===this.tok.T_END_HEREDOC&&(n.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),n},get_magic_constant:function(){var t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}};F.resolve_special_chars,F.remove_heredoc_leading_whitespace_chars,F.check_heredoc_indentation_level,F.read_dereferencable_scalar,F.read_scalar,F.read_dereferencable,F.read_encapsed_string_item,F.read_encapsed_string,F.get_magic_constant;var H={read_top_statements:function(){for(var t=[];this.token!==this.EOF&&"}"!==this.token;){var e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){var t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(t);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:var e=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),e(null,i);case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:var n=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,n(this.lexer._input.substring(this.lexer.offset));default:return this.read_statement()}},read_inner_statements:function(){for(var t=[];this.token!=this.EOF&&"}"!==this.token;){var e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list((function(){this.expect(this.tok.T_STRING);var t=this.node("constant"),e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)}),",",!1)},read_declare_list:function(){for(var t=[];this.token!=this.EOF&&")"!==this.token;){this.expect(this.tok.T_STRING);var e=this.node("declaredirective"),i=this.node("identifier"),n=this.text();this.next(),i=i(n);var s=null;if(this.expect("=")&&(s=this.next().read_expr()),t.push(e(i,s)),","!==this.token)break;this.next()}return t},read_inner_statement:function(){var t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:var e=this.read_function(!1,!1);return e.attrGroups=t,e;case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");var i=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),i=i(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),i;default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:var t=this.node("return");this.next();var e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e);case this.tok.T_BREAK:case this.tok.T_CONTINUE:var i=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();var n=this.read_optional_expr(";");return this.expectEndOfStatement(),i(n);case this.tok.T_GLOBAL:var s=this.node("global"),r=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),s(r);case this.tok.T_STATIC:var o=[this.token,this.lexer.getState()],a=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(o);var h=this.next().read_expr();return this.expectEndOfStatement(h),a("expressionstatement",h)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);var l=this.read_variable_declarations();return this.expectEndOfStatement(),a("static",l);case this.tok.T_ECHO:var c=this.node("echo"),u=this.text(),_="<?="===u||"<%="===u,d=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),c(d,_);case this.tok.T_INLINE_HTML:var p=this.text(),f=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,T="\r"===f||"\n"===f;T&&"\n"===f&&this.lexer.yylloc.first_offset>1&&"\r"===this.lexer._input[this.lexer.yylloc.first_offset-2]&&(f="\r\n");var k=this.node("inline");return this.next(),k(p,T?f+p:p);case this.tok.T_UNSET:var m=this.node("unset");this.next().expect("(")&&this.next();var E=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),m(E);case this.tok.T_DECLARE:var x,y=this.node("declare"),v=[];this.next().expect("(")&&this.next();var A=this.read_declare_list();if(this.expect(")")&&this.next(),":"===this.token){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)v.push(this.read_top_statement());0===v.length&&this.extractDoc&&this._docs.length>this._docIndex&&v.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),x=this.ast.declare.MODE_SHORT}else if("{"===this.token){for(this.next();this.token!=this.EOF&&"}"!==this.token;)v.push(this.read_top_statement());0===v.length&&this.extractDoc&&this._docs.length>this._docIndex&&v.push(this.node("noop")()),this.expect("}")&&this.next(),x=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),x=this.ast.declare.MODE_NONE;return y(A,v,x);case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:var g=this.node("throw"),N=this.next().read_expr();return this.expectEndOfStatement(),g(N);case";":return this.next(),null;case this.tok.T_STRING:var C=this.node(),S=[this.token,this.lexer.getState()],b=this.text(),L=this.node("identifier");if(":"===this.next().token)return L=L(b),this.next(),C("label",L);L.destroy(),C.destroy(),this.lexer.tokens.push(S);var O=this.node("expressionstatement"),I=this.next().read_expr();return this.expectEndOfStatement(I),O(I);case this.tok.T_GOTO:var R=this.node("goto"),w=null;if(this.next().expect(this.tok.T_STRING)){w=this.node("identifier");var D=this.text();this.next(),w=w(D),this.expectEndOfStatement()}return R(w);default:var P=this.node("expressionstatement"),U=this.read_expr();return this.expectEndOfStatement(U),P(U)}},read_code_block:function(t){var e=this.node("block");this.expect("{")&&this.next();var i=t?this.read_top_statements():this.read_inner_statements();return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}};H.read_top_statements,H.read_top_statement,H.read_inner_statements,H.read_const_list,H.read_declare_list,H.read_inner_statement,H.read_statement,H.read_code_block;var G={read_switch:function(){var t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();var e=this.read_expr();this.expect(")")&&this.next();var i=":"===this.token;return t(e,this.read_switch_case_list(),i)},read_switch_case_list:function(){var t=null,e=this.node("block"),i=[];for("{"===this.token?t="}":":"===this.token?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),";"===this.token&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){var e=this.node("case"),i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();for(var n=this.node("block"),s=[];this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)s.push(this.read_inner_statement());return e(i,n(null,s))}};G.read_switch,G.read_switch_case_list,G.read_case_list;var V={read_try:function(){this.expect(this.tok.T_TRY);for(var t=this.node("try"),e=null,i=[],n=this.next().read_statement();this.token===this.tok.T_CATCH;){var s=this.node("catch");this.next().expect("(")&&this.next();var r=this.read_list(this.read_namespace_name,"|",!1),o=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(o=this.read_variable(!0,!1)),this.expect(")"),i.push(s(this.next().read_statement(),r,o))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(n,i,e)}};V.read_try;var W={read_short_form:function(t){var e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return 0===i.length&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){var i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e)break;if(")"==this.next().token&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){var n=[];if(this.token==e&&(i&&n.push("function"==typeof t?this.node("noop")():null),this.next()),"function"==typeof t)do{var s=t.apply(this,[]);if(s&&n.push(s),this.token!=e)break}while(this.next().token!=this.EOF);else{if(!this.expect(t))return[];for(n.push(this.text());this.next().token!=this.EOF&&this.token==e&&this.next().token==t;)n.push(this.text())}return n},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){var e=this.node("byref");this.next(),e=e(null);var i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list((function(){var t=this.node("staticvariable"),e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){var i=this.text().substring(1);this.next(),e=e(i,!1)}else e=e("#ERR",!1);return"="===this.token?t(e,this.next().read_expr()):e}),",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}};W.read_short_form,W.read_function_list,W.read_list,W.read_name_list,W.read_byref,W.read_variable_declarations,W.read_extends_from,W.read_interface_extends_list,W.read_implements_list;var Q={read_variable:function(t,e){var i;if("&"===this.token)return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE])){i=this.node();var n=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&"("!=this.token&&-1===["parentreference","selfreference"].indexOf(n.kind)){var s=n.name.toLowerCase();"true"===s?i=n.destroy(i("boolean",!0,n.name)):"false"===s?i=n.destroy(i("boolean",!1,n.name)):"null"===s?i=n.destroy(i("nullkeyword",n.name)):(i.destroy(n),i=n)}else i.destroy(n),i=n}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");var r=this.text();this.next(),i=i(r)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){var i,n,s=this.node("staticlookup");return this.next().is([this.tok.T_VARIABLE,"$"])?i=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(i=this.node("identifier"),n=this.text(),this.next(),i=i(n)):"{"===this.token?(i=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),i=i("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),i=this.node("identifier"),n=this.text(),this.next(),i=i(n)),s(t,i)},read_what:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),"{"===this.token?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):e=e("variable",i=this.read_expr(),!1);break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i)}return e},recursive_variable_chain_scan:function(t,e,i){var n,s;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":var r="["===this.token;if(n=this.node("offsetlookup"),this.next(),s=!1,i)s=this.read_encaps_var_offset(),this.expect(r?"]":"}")&&this.next();else(r?"]"!==this.token:"}"!==this.token)?(s=this.read_expr(),this.expect(r?"]":"}")&&this.next()):this.next();t=n(t,s);break;case this.tok.T_DOUBLE_COLON:"staticlookup"===t.kind&&"identifier"===t.offset.kind&&this.error(),t=(n=this.node("staticlookup"))(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:t=(n=this.node("propertylookup"))(t,this.read_what());break;case this.tok.T_NULLSAFE_OBJECT_OPERATOR:t=(n=this.node("nullsafepropertylookup"))(t,this.read_what());break;default:break t}return t},read_encaps_var_offset:function(){var t=this.node();if(this.token===this.tok.T_STRING){var e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){var i=this.text();this.next(),t=t("number",i,null)}else if("-"===this.token){this.next();var n=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",n,null)}else if(this.token===this.tok.T_VARIABLE){var s=this.text().substring(1);this.next(),t=t("variable",s,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);var r=this.text();this.next(),t=t("identifier",r)}return t},read_reference_variable:function(t){for(var e,i=this.read_simple_variable();this.token!=this.EOF;){var n=this.node();if("{"!=this.token||t){n.destroy();break}e=this.next().read_expr(),this.expect("}")&&this.next(),i=n("offsetlookup",i,e)}return i},read_simple_variable:function(){var t,e=this.node("variable");if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)t=this.text().substring(1),this.next(),e=e(t,!1);else switch("$"===this.token&&this.next(),this.token){case"{":var i=this.next().read_expr();this.expect("}")&&this.next(),e=e(i,!0);break;case"$":e=e(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:t=this.text().substring(1);var n=this.node("variable");this.next(),e=e(n(t,!1),!1);break;default:this.error(["{","$",this.tok.T_VARIABLE]),t=this.text(),this.next(),e=e(t,!1)}return e}};function Y(t){return"."!=t&&","!=t&&!isNaN(parseFloat(t))&&isFinite(t)}Q.read_variable,Q.read_static_getter,Q.read_what,Q.recursive_variable_chain_scan,Q.read_encaps_var_offset,Q.read_reference_variable,Q.read_simple_variable;var j=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;var i=function(t){return[t,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};j.prototype.getTokenName=function(t){return Y(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"},j.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;var i=this.node("program"),n=[];for(this.next();this.token!=this.EOF;)n.push(this.read_start());0===n.length&&this.extractDoc&&this._docs.length>this._docIndex&&n.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];var s=i(n,this._errors,this._docs,this._tokens);if(this.debug){var r=this.ast.checkNodes();if(r.length>0)throw r.forEach((function(t){t.position&&console.log("Node at line "+t.position.line+", column "+t.position.column),console.log(t.stack.join("\n"))})),new Error("Some nodes are not closed")}return s},j.prototype.raiseError=function(t,e,i,n){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){var s=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw s.lineNumber=this.lexer.yylloc.first_line,s.fileName=this.filename,s.columnNumber=this.lexer.yylloc.first_column,s}var r=this.ast.prepare("error",null,this)(t,n,this.lexer.yylloc.first_line,i);return this._errors.push(r),r},j.prototype.error=function(t){var e="Parse Error : syntax error",i=this.getTokenName(this.token),n="";if(this.token!==this.EOF){if(Y(this.token)){var s=this.text();s.length>10&&(s=s.substring(0,7)+"..."),i="'"+s+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((Y(t)||1===t.length)&&(n=", expecting "+this.getTokenName(t)),e+=n),this.raiseError(e,n,t,i)},j.prototype.position=function(){return new S(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)},j.prototype.node=function(t){if(this.extractDoc){var e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&(console.log(new Error("Append docs on "+t)),console.log(e)));var i=this.ast.prepare(t,e,this);return i.postBuild=function(t){if(this._docIndex<this._docs.length)if(this._lastNode){for(var e=this.prev[2],i=this._docIndex;i<this._docs.length&&!(this._docs[i].offset>e);i++);i>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,i)),this._docIndex=i)}else this.token===this.EOF&&(t.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=t}.bind(this),i}return this.ast.prepare(t,null,this)},j.prototype.expectEndOfStatement=function(t){if(";"===this.token)t&&";"===this.lexer.yytext&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var $=["parser.next","parser.node","parser.showlog"];j.prototype.showlog=function(){for(var t,e=(new Error).stack.split("\n"),i=2;i<e.length;i++){t=e[i].trim();for(var n=!1,s=0;s<$.length;s++)if(t.substring(3,3+$[s].length)===$[s]){n=!0;break}if(!n)break}return console.log("Line "+this.lexer.yylloc.first_line+" : "+this.getTokenName(this.token)+">"+this.lexer.yytext+"< @--\x3e"+t),this},j.prototype.expect=function(t){if(Array.isArray(t)){if(-1===t.indexOf(this.token))return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0},j.prototype.text=function(){return this.lexer.yytext},j.prototype.next=function(){if(";"===this.token&&";"!==this.lexer.yytext||(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this},j.prototype.peek=function(){var t=this.lexer.getState(),e=this.lexer.lex();return this.lexer.setState(t),e},j.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;var t=this.lexer.yytext;if(t=Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this},j.prototype.is=function(t){return Array.isArray(t)?-1!==t.indexOf(this.token):this.entries[t].has(this.token)},[b,L,O,I,R,w,D,P,U,B,F,H,G,V,W,Q].forEach((function(t){for(var e in t){if(Object.prototype.hasOwnProperty.call(j.prototype,e))throw new Error("Function "+e+" is already defined - collision");j.prototype[e]=t[e]}}));var z=j,K=Object.freeze({values:{101:"T_HALT_COMPILER",102:"T_USE",103:"T_ENCAPSED_AND_WHITESPACE",104:"T_OBJECT_OPERATOR",105:"T_STRING",106:"T_DOLLAR_OPEN_CURLY_BRACES",107:"T_STRING_VARNAME",108:"T_CURLY_OPEN",109:"T_NUM_STRING",110:"T_ISSET",111:"T_EMPTY",112:"T_INCLUDE",113:"T_INCLUDE_ONCE",114:"T_EVAL",115:"T_REQUIRE",116:"T_REQUIRE_ONCE",117:"T_NAMESPACE",118:"T_NS_SEPARATOR",119:"T_AS",120:"T_IF",121:"T_ENDIF",122:"T_WHILE",123:"T_DO",124:"T_FOR",125:"T_SWITCH",126:"T_BREAK",127:"T_CONTINUE",128:"T_RETURN",129:"T_GLOBAL",130:"T_STATIC",131:"T_ECHO",132:"T_INLINE_HTML",133:"T_UNSET",134:"T_FOREACH",135:"T_DECLARE",136:"T_TRY",137:"T_THROW",138:"T_GOTO",139:"T_FINALLY",140:"T_CATCH",141:"T_ENDDECLARE",142:"T_LIST",143:"T_CLONE",144:"T_PLUS_EQUAL",145:"T_MINUS_EQUAL",146:"T_MUL_EQUAL",147:"T_DIV_EQUAL",148:"T_CONCAT_EQUAL",149:"T_MOD_EQUAL",150:"T_AND_EQUAL",151:"T_OR_EQUAL",152:"T_XOR_EQUAL",153:"T_SL_EQUAL",154:"T_SR_EQUAL",155:"T_INC",156:"T_DEC",157:"T_BOOLEAN_OR",158:"T_BOOLEAN_AND",159:"T_LOGICAL_OR",160:"T_LOGICAL_AND",161:"T_LOGICAL_XOR",162:"T_SL",163:"T_SR",164:"T_IS_IDENTICAL",165:"T_IS_NOT_IDENTICAL",166:"T_IS_EQUAL",167:"T_IS_NOT_EQUAL",168:"T_IS_SMALLER_OR_EQUAL",169:"T_IS_GREATER_OR_EQUAL",170:"T_INSTANCEOF",171:"T_INT_CAST",172:"T_DOUBLE_CAST",173:"T_STRING_CAST",174:"T_ARRAY_CAST",175:"T_OBJECT_CAST",176:"T_BOOL_CAST",177:"T_UNSET_CAST",178:"T_EXIT",179:"T_PRINT",180:"T_YIELD",181:"T_YIELD_FROM",182:"T_FUNCTION",183:"T_DOUBLE_ARROW",184:"T_DOUBLE_COLON",185:"T_ARRAY",186:"T_CALLABLE",187:"T_CLASS",188:"T_ABSTRACT",189:"T_TRAIT",190:"T_FINAL",191:"T_EXTENDS",192:"T_INTERFACE",193:"T_IMPLEMENTS",194:"T_VAR",195:"T_PUBLIC",196:"T_PROTECTED",197:"T_PRIVATE",198:"T_CONST",199:"T_NEW",200:"T_INSTEADOF",201:"T_ELSEIF",202:"T_ELSE",203:"T_ENDSWITCH",204:"T_CASE",205:"T_DEFAULT",206:"T_ENDFOR",207:"T_ENDFOREACH",208:"T_ENDWHILE",209:"T_CONSTANT_ENCAPSED_STRING",210:"T_LNUMBER",211:"T_DNUMBER",212:"T_LINE",213:"T_FILE",214:"T_DIR",215:"T_TRAIT_C",216:"T_METHOD_C",217:"T_FUNC_C",218:"T_NS_C",219:"T_START_HEREDOC",220:"T_END_HEREDOC",221:"T_CLASS_C",222:"T_VARIABLE",223:"T_OPEN_TAG",224:"T_OPEN_TAG_WITH_ECHO",225:"T_CLOSE_TAG",226:"T_WHITESPACE",227:"T_COMMENT",228:"T_DOC_COMMENT",229:"T_ELLIPSIS",230:"T_COALESCE",231:"T_POW",232:"T_POW_EQUAL",233:"T_SPACESHIP",234:"T_COALESCE_EQUAL",235:"T_FN",236:"T_NULLSAFE_OBJECT_OPERATOR",237:"T_MATCH",238:"T_ATTRIBUTE",239:"T_ENUM",240:"T_READ_ONLY"},names:{T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240}}),X=function(t,e,i){this.source=t,this.start=e,this.end=i},J=function(t,e,i){this.kind=t,e&&(this.leadingComments=e),i&&(this.loc=i)};J.prototype.setTrailingComments=function(t){this.trailingComments=t},J.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t},J.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this},J.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};var q=J,Z="expression",tt=q.extends(Z,(function(t,e,i){q.apply(this,[t||Z,e,i])})),et="array",it=tt.extends(et,(function(t,e,i,n){tt.apply(this,[et,i,n]),this.items=e,this.shortForm=t})),nt="arrowfunc",st=tt.extends(nt,(function(t,e,i,n,s,r,o,a){tt.apply(this,[nt,o,a]),this.arguments=t,this.byref=e,this.body=i,this.type=n,this.nullable=s,this.isStatic=r||!1})),rt="assign",ot=tt.extends(rt,(function(t,e,i,n,s){tt.apply(this,[rt,n,s]),this.left=t,this.right=e,this.operator=i})),at="assignref",ht=tt.extends(at,(function(t,e,i,n){tt.apply(this,[at,i,n]),this.left=t,this.right=e})),lt="attribute",ct=q.extends(lt,(function(t,e,i,n){q.apply(this,[lt,i,n]),this.name=t,this.args=e})),ut="attrgroup",_t=q.extends(ut,(function(t,e,i){q.apply(this,[ut,e,i]),this.attrs=t||[]})),dt="operation",pt=tt.extends(dt,(function(t,e,i){tt.apply(this,[t||dt,e,i])})),ft=pt.extends("bin",(function(t,e,i,n,s){pt.apply(this,["bin",n,s]),this.type=t,this.left=e,this.right=i})),Tt="statement",kt=q.extends(Tt,(function(t,e,i){q.apply(this,[t||Tt,e,i])})),mt="block",Et=kt.extends(mt,(function(t,e,i,n){kt.apply(this,[t||mt,i,n]),this.children=e.filter(Boolean)})),xt="literal",yt=tt.extends(xt,(function(t,e,i,n,s){tt.apply(this,[t||xt,n,s]),this.value=e,i&&(this.raw=i)})),vt="boolean",At=yt.extends(vt,(function(t,e,i,n){yt.apply(this,[vt,t,e,i,n])})),gt="break",Nt=kt.extends(gt,(function(t,e,i){kt.apply(this,[gt,e,i]),this.level=t})),Ct="byref",St=tt.extends(Ct,(function(t,e,i){tt.apply(this,[Ct,e,i]),this.what=t})),bt="call",Lt=tt.extends(bt,(function(t,e,i,n){tt.apply(this,[bt,i,n]),this.what=t,this.arguments=e})),Ot="case",It=kt.extends(Ot,(function(t,e,i,n){kt.apply(this,[Ot,i,n]),this.test=t,this.body=e})),Rt="cast",wt=pt.extends(Rt,(function(t,e,i,n,s){pt.apply(this,[Rt,n,s]),this.type=t,this.raw=e,this.expr=i})),Dt="catch",Pt=kt.extends(Dt,(function(t,e,i,n,s){kt.apply(this,[Dt,n,s]),this.body=t,this.what=e,this.variable=i})),Ut="declaration",Bt=kt.extends(Ut,(function(t,e,i,n){kt.apply(this,[t||Ut,i,n]),this.name=e}));Bt.prototype.parseFlags=function(t){this.isAbstract=1===t[2],this.isFinal=2===t[2],"class"!==this.kind&&(-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private"),this.isStatic=1===t[1])};var Mt=Bt,Ft="class",Ht=Mt.extends(Ft,(function(t,e,i,n,s,r,o){Mt.apply(this,[Ft,t,r,o]),this.isAnonymous=!t,this.extends=e,this.implements=i,this.body=n,this.attrGroups=[],this.parseFlags(s)})),Gt="constantstatement",Vt=kt.extends(Gt,(function(t,e,i,n){kt.apply(this,[t||Gt,i,n]),this.constants=e})),Wt="classconstant",Qt=Vt.extends(Wt,(function(t,e,i,n,s,r){Vt.apply(this,[t||Wt,e,s,r]),this.parseFlags(i),this.attrGroups=n}));Qt.prototype.parseFlags=function(t){-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private")};var Yt=Qt,jt="clone",$t=tt.extends(jt,(function(t,e,i){tt.apply(this,[jt,e,i]),this.what=t})),zt="closure",Kt=tt.extends(zt,(function(t,e,i,n,s,r,o,a){tt.apply(this,[zt,o,a]),this.uses=i,this.arguments=t,this.byref=e,this.type=n,this.nullable=s,this.isStatic=r||!1,this.body=null,this.attrGroups=[]})),Xt=q.extends("comment",(function(t,e,i,n){q.apply(this,[t,i,n]),this.value=e})),Jt="commentblock",qt=Xt.extends(Jt,(function(t,e,i){Xt.apply(this,[Jt,t,e,i])})),Zt="commentline",te=Xt.extends(Zt,(function(t,e,i){Xt.apply(this,[Zt,t,e,i])})),ee="constant",ie=q.extends(ee,(function(t,e,i,n){q.apply(this,[ee,i,n]),this.name=t,this.value=e})),ne="continue",se=kt.extends(ne,(function(t,e,i){kt.apply(this,[ne,e,i]),this.level=t})),re="declare",oe=Et.extends(re,(function(t,e,i,n,s){Et.apply(this,[re,e,n,s]),this.directives=t,this.mode=i}));oe.MODE_SHORT="short",oe.MODE_BLOCK="block",oe.MODE_NONE="none";var ae=oe,he="declaredirective",le=q.extends(he,(function(t,e,i,n){q.apply(this,[he,i,n]),this.key=t,this.value=e})),ce=kt.extends("do",(function(t,e,i,n){kt.apply(this,["do",i,n]),this.test=t,this.body=e})),ue="echo",_e=kt.extends(ue,(function(t,e,i,n){kt.apply(this,[ue,i,n]),this.shortForm=e,this.expressions=t})),de="empty",pe=tt.extends(de,(function(t,e,i){tt.apply(this,[de,e,i]),this.expression=t})),fe="encapsed",Te=yt.extends(fe,(function(t,e,i,n,s){yt.apply(this,[fe,t,e,n,s]),this.type=i}));Te.TYPE_STRING="string",Te.TYPE_SHELL="shell",Te.TYPE_HEREDOC="heredoc",Te.TYPE_OFFSET="offset";var ke=Te,me="encapsedpart",Ee=tt.extends(me,(function(t,e,i,n,s){tt.apply(this,[me,n,s]),this.expression=t,this.syntax=e,this.curly=i})),xe="entry",ye=tt.extends(xe,(function(t,e,i,n,s,r){tt.apply(this,[xe,s,r]),this.key=t,this.value=e,this.byRef=i,this.unpack=n})),ve="enum",Ae=Mt.extends(ve,(function(t,e,i,n,s,r){Mt.apply(this,[ve,t,s,r]),this.valueType=e,this.implements=i,this.body=n,this.attrGroups=[]})),ge="enumcase",Ne=q.extends(ge,(function(t,e,i,n){q.apply(this,[ge,i,n]),this.name=t,this.value=e})),Ce="error",Se=q.extends(Ce,(function(t,e,i,n,s,r){q.apply(this,[Ce,s,r]),this.message=t,this.token=e,this.line=i,this.expected=n})),be="eval",Le=tt.extends(be,(function(t,e,i){tt.apply(this,[be,e,i]),this.source=t})),Oe="exit",Ie=tt.extends(Oe,(function(t,e,i,n){tt.apply(this,[Oe,i,n]),this.expression=t,this.useDie=e})),Re="expressionstatement",we=kt.extends(Re,(function(t,e,i){kt.apply(this,[Re,e,i]),this.expression=t})),De=kt.extends("for",(function(t,e,i,n,s,r,o){kt.apply(this,["for",r,o]),this.init=t,this.test=e,this.increment=i,this.shortForm=s,this.body=n})),Pe="foreach",Ue=kt.extends(Pe,(function(t,e,i,n,s,r,o){kt.apply(this,[Pe,r,o]),this.source=t,this.key=e,this.value=i,this.shortForm=s,this.body=n})),Be="function",Me=Mt.extends(Be,(function(t,e,i,n,s,r,o){Mt.apply(this,[Be,t,r,o]),this.arguments=e,this.byref=i,this.type=n,this.nullable=s,this.body=null,this.attrGroups=[]})),Fe="global",He=kt.extends(Fe,(function(t,e,i){kt.apply(this,[Fe,e,i]),this.items=t})),Ge="goto",Ve=kt.extends(Ge,(function(t,e,i){kt.apply(this,[Ge,e,i]),this.label=t})),We="halt",Qe=kt.extends(We,(function(t,e,i){kt.apply(this,[We,e,i]),this.after=t})),Ye="identifier",je=q.extends(Ye,(function(t,e,i){q.apply(this,[Ye,e,i]),this.name=t})),$e=je,ze=kt.extends("if",(function(t,e,i,n,s,r){kt.apply(this,["if",s,r]),this.test=t,this.body=e,this.alternate=i,this.shortForm=n})),Ke="include",Xe=tt.extends(Ke,(function(t,e,i,n,s){tt.apply(this,[Ke,n,s]),this.once=t,this.require=e,this.target=i})),Je="inline",qe=yt.extends(Je,(function(t,e,i,n){yt.apply(this,[Je,t,e,i,n])})),Ze="interface",ti=Mt.extends(Ze,(function(t,e,i,n,s,r){Mt.apply(this,[Ze,t,s,r]),this.extends=e,this.body=i,this.attrGroups=n})),ei="intersectiontype",ii=Mt.extends(ei,(function(t,e,i){Mt.apply(this,[ei,null,e,i]),this.types=t})),ni="isset",si=tt.extends(ni,(function(t,e,i){tt.apply(this,[ni,e,i]),this.variables=t})),ri="label",oi=kt.extends(ri,(function(t,e,i){kt.apply(this,[ri,e,i]),this.name=t})),ai="list",hi=tt.extends(ai,(function(t,e,i,n){tt.apply(this,[ai,i,n]),this.items=t,this.shortForm=e})),li="lookup",ci=tt.extends(li,(function(t,e,i,n,s){tt.apply(this,[t||li,n,s]),this.what=e,this.offset=i})),ui="magic",_i=yt.extends(ui,(function(t,e,i,n){yt.apply(this,[ui,t,e,i,n])})),di="match",pi=tt.extends(di,(function(t,e,i,n){tt.apply(this,[di,i,n]),this.cond=t,this.arms=e})),fi="matcharm",Ti=tt.extends(fi,(function(t,e,i,n){tt.apply(this,[fi,i,n]),this.conds=t,this.body=e})),ki="method",mi=Me.extends(ki,(function(){Me.apply(this,arguments),this.kind=ki})),Ei="reference",xi=q.extends(Ei,(function(t,e,i){q.apply(this,[t||Ei,e,i])})),yi="name",vi=xi.extends(yi,(function t(e,i,n,s){xi.apply(this,[yi,n,s]),i?this.resolution=t.RELATIVE_NAME:1===e.length?this.resolution=t.UNQUALIFIED_NAME:e[0]?this.resolution=t.QUALIFIED_NAME:this.resolution=t.FULL_QUALIFIED_NAME,this.name=e.join("\\")}));vi.UNQUALIFIED_NAME="uqn",vi.QUALIFIED_NAME="qn",vi.FULL_QUALIFIED_NAME="fqn",vi.RELATIVE_NAME="rn";var Ai=vi,gi="namespace",Ni=Et.extends(gi,(function(t,e,i,n,s){Et.apply(this,[gi,e,n,s]),this.name=t,this.withBrackets=i||!1})),Ci="namedargument",Si=tt.extends(Ci,(function(t,e,i,n){tt.apply(this,[Ci,i,n]),this.name=t,this.value=e})),bi=tt.extends("new",(function(t,e,i,n){tt.apply(this,["new",i,n]),this.what=t,this.arguments=e})),Li="noop",Oi=q.extends(Li,(function(t,e){q.apply(this,[Li,t,e])})),Ii="nowdoc",Ri=yt.extends(Ii,(function(t,e,i,n,s){yt.apply(this,[Ii,t,e,n,s]),this.label=i})),wi="nullkeyword",Di=q.extends(wi,(function(t,e,i){q.apply(this,[wi,e,i]),this.raw=t})),Pi="nullsafepropertylookup",Ui=ci.extends(Pi,(function(t,e,i,n){ci.apply(this,[Pi,t,e,i,n])})),Bi="number",Mi=yt.extends(Bi,(function(t,e,i,n){yt.apply(this,[Bi,t,e,i,n])})),Fi="offsetlookup",Hi=ci.extends(Fi,(function(t,e,i,n){ci.apply(this,[Fi,t,e,i,n])})),Gi="parameter",Vi=Mt.extends(Gi,(function(t,e,i,n,s,r,o,a,h,l){Mt.apply(this,[Gi,t,h,l]),this.value=i,this.type=e,this.byref=n,this.variadic=s,this.readonly=r,this.nullable=o,this.flags=a||0,this.attrGroups=[]})),Wi="parentreference",Qi=xi.extends(Wi,(function(t,e,i){xi.apply(this,[Wi,e,i]),this.raw=t})),Yi="post",ji=pt.extends(Yi,(function(t,e,i,n){pt.apply(this,[Yi,i,n]),this.type=t,this.what=e})),$i=pt.extends("pre",(function(t,e,i,n){pt.apply(this,["pre",i,n]),this.type=t,this.what=e})),zi="print",Ki=tt.extends(zi,(function(t,e,i){tt.apply(this,[zi,e,i]),this.expression=t})),Xi="program",Ji=Et.extends(Xi,(function(t,e,i,n,s,r){Et.apply(this,[Xi,t,s,r]),this.errors=e,i&&(this.comments=i),n&&(this.tokens=n)})),qi="property",Zi=kt.extends(qi,(function(t,e,i,n,s,r,o,a){kt.apply(this,[qi,o,a]),this.name=t,this.value=e,this.readonly=i,this.nullable=n,this.type=s,this.attrGroups=r})),tn="propertylookup",en=ci.extends(tn,(function(t,e,i,n){ci.apply(this,[tn,t,e,i,n])})),nn="propertystatement",sn=kt.extends(nn,(function(t,e,i,n,s){kt.apply(this,[nn,n,s]),this.properties=e,this.parseFlags(i)}));sn.prototype.parseFlags=function(t){-1===t[0]?this.visibility="":null===t[0]?this.visibility=null:0===t[0]?this.visibility="public":1===t[0]?this.visibility="protected":2===t[0]&&(this.visibility="private"),this.isStatic=1===t[1]};var rn=sn,on="retif",an=tt.extends(on,(function(t,e,i,n,s){tt.apply(this,[on,n,s]),this.test=t,this.trueExpr=e,this.falseExpr=i})),hn="return",ln=kt.extends(hn,(function(t,e,i){kt.apply(this,[hn,e,i]),this.expr=t})),cn="selfreference",un=xi.extends(cn,(function(t,e,i){xi.apply(this,[cn,e,i]),this.raw=t})),_n="silent",dn=tt.extends(_n,(function(t,e,i){tt.apply(this,[_n,e,i]),this.expr=t})),pn="static",fn=kt.extends(pn,(function(t,e,i){kt.apply(this,[pn,e,i]),this.variables=t})),Tn="staticvariable",kn=q.extends(Tn,(function(t,e,i,n){q.apply(this,[Tn,i,n]),this.variable=t,this.defaultValue=e})),mn="staticlookup",En=ci.extends(mn,(function(t,e,i,n){ci.apply(this,[mn,t,e,i,n])})),xn="staticreference",yn=xi.extends(xn,(function(t,e,i){xi.apply(this,[xn,e,i]),this.raw=t})),vn="string",An=yt.extends(vn,(function(t,e,i,n,s,r){yt.apply(this,[vn,e,n,s,r]),this.unicode=i,this.isDoubleQuote=t})),gn="switch",Nn=kt.extends(gn,(function(t,e,i,n,s){kt.apply(this,[gn,n,s]),this.test=t,this.body=e,this.shortForm=i})),Cn="throw",Sn=kt.extends(Cn,(function(t,e,i){kt.apply(this,[Cn,e,i]),this.what=t})),bn="trait",Ln=Mt.extends(bn,(function(t,e,i,n){Mt.apply(this,[bn,t,i,n]),this.body=e})),On="traitalias",In=q.extends(On,(function(t,e,i,n,s,r){q.apply(this,[On,s,r]),this.trait=t,this.method=e,this.as=i,this.visibility="",n&&(0===n[0]?this.visibility="public":1===n[0]?this.visibility="protected":2===n[0]&&(this.visibility="private"))})),Rn="traitprecedence",wn=q.extends(Rn,(function(t,e,i,n,s){q.apply(this,[Rn,n,s]),this.trait=t,this.method=e,this.instead=i})),Dn="traituse",Pn=q.extends(Dn,(function(t,e,i,n){q.apply(this,[Dn,i,n]),this.traits=t,this.adaptations=e})),Un=kt.extends("try",(function(t,e,i,n,s){kt.apply(this,["try",n,s]),this.body=t,this.catches=e,this.always=i})),Bn="typereference",Mn=xi.extends(Bn,(function(t,e,i,n){xi.apply(this,[Bn,i,n]),this.name=t,this.raw=e}));Mn.types=["int","float","string","bool","object","array","callable","iterable","void","static"];var Fn=Mn,Hn="unary",Gn=pt.extends(Hn,(function(t,e,i,n){pt.apply(this,[Hn,i,n]),this.type=t,this.what=e})),Vn="uniontype",Wn=Mt.extends(Vn,(function(t,e,i){Mt.apply(this,[Vn,null,e,i]),this.types=t})),Qn="unset",Yn=kt.extends(Qn,(function(t,e,i){kt.apply(this,[Qn,e,i]),this.variables=t})),jn="usegroup",$n=kt.extends(jn,(function(t,e,i,n,s){kt.apply(this,[jn,n,s]),this.name=t,this.type=e,this.items=i})),zn="useitem",Kn=kt.extends(zn,(function(t,e,i,n,s){kt.apply(this,[zn,n,s]),this.name=t,this.alias=e,this.type=i}));Kn.TYPE_CONST="const",Kn.TYPE_FUNCTION="function";var Xn=Kn,Jn="variable",qn=tt.extends(Jn,(function(t,e,i,n){tt.apply(this,[Jn,i,n]),this.name=t,this.curly=e||!1})),Zn="variadic",ts=tt.extends(Zn,(function(t,e,i){tt.apply(this,[Zn,e,i]),this.what=t})),es="while",is=kt.extends(es,(function(t,e,i,n,s){kt.apply(this,[es,n,s]),this.test=t,this.body=e,this.shortForm=i})),ns="yield",ss=tt.extends(ns,(function(t,e,i,n){tt.apply(this,[ns,i,n]),this.value=t,this.key=e})),rs="yieldfrom",os=tt.extends(rs,(function(t,e,i){tt.apply(this,[rs,e,i]),this.value=t})),as=function(t,e){this.withPositions=t,this.withSource=e};as.precedence={},[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach((function(t,e){t.forEach((function(t){as.precedence[t]=e+1}))})),as.prototype.isRightAssociative=function(t){return"**"===t||"??"===t},as.prototype.swapLocations=function(t,e,i,n){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=n.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},as.prototype.resolveLocations=function(t,e,i,n){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=n.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))},as.prototype.resolvePrecedence=function(t,e){var i,n,s;return"call"===t.kind?this.resolveLocations(t,t.what,t,e):"propertylookup"===t.kind||"staticlookup"===t.kind||"offsetlookup"===t.kind&&t.offset?this.resolveLocations(t,t.what,t.offset,e):"bin"===t.kind?t.right&&!t.right.parenthesizedExpression&&("bin"===t.right.kind?(n=as.precedence[t.type],s=as.precedence[t.right.type],n&&s&&s<=n&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):"retif"===t.right.kind&&(n=as.precedence[t.type],s=as.precedence["?"],n&&s&&s<=n&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):"silent"!==t.kind&&"cast"!==t.kind||!t.expr||t.expr.parenthesizedExpression?"unary"===t.kind?t.what&&!t.what.parenthesizedExpression&&("bin"===t.what.kind?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.what.kind&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):"retif"===t.kind?t.falseExpr&&"retif"===t.falseExpr.kind&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):"assign"===t.kind?t.right&&"bin"===t.right.kind&&!t.right.parenthesizedExpression&&(n=as.precedence["="],s=as.precedence[t.right.type],n&&s&&s<n&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):"expressionstatement"===t.kind&&this.swapLocations(t,t.expression,t,e):"bin"===t.expr.kind?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):"retif"===t.expr.kind&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i),t},as.prototype.prepare=function(t,e,i){var n=null;(this.withPositions||this.withSource)&&(n=i.position());var s=this,r=function r(){var o=null,a=Array.prototype.slice.call(arguments);if(a.push(e),s.withPositions||s.withSource){var h=null;s.withSource&&(h=i.lexer._input.substring(n.offset,i.prev[2])),o=new X(h,n,new S(i.prev[0],i.prev[1],i.prev[2])),a.push(o)}t||(t=a.shift());var l=s[t];if("function"!=typeof l)throw new Error('Undefined node "'+t+'"');var c=Object.create(l.prototype);return l.apply(c,a),r.instance=c,r.trailingComments&&(c.trailingComments=r.trailingComments),"function"==typeof r.postBuild&&r.postBuild(c),i.debug&&delete as.stack[r.stackUid],s.resolvePrecedence(c,i)};return i.debug&&(as.stack||(as.stack={},as.stackUid=1),as.stack[++as.stackUid]={position:n,stack:(new Error).stack.split("\n").slice(3,5)},r.stackUid=as.stackUid),r.setTrailingComments=function(t){r.instance?r.instance.setTrailingComments(t):r.trailingComments=t},r.destroy=function(t){e&&(t?t.leadingComments?t.leadingComments=e.concat(t.leadingComments):t.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete as.stack[r.stackUid]},r},as.prototype.checkNodes=function(){var t=[];for(var e in as.stack)Object.prototype.hasOwnProperty.call(as.stack,e)&&t.push(as.stack[e]);return as.stack={},t},[it,st,ot,ht,ct,_t,ft,Et,At,Nt,St,Lt,It,wt,Pt,Ht,Yt,$t,Kt,Xt,qt,te,ie,Vt,se,Mt,ae,le,ce,_e,pe,ke,Ee,ye,Ae,Ne,Se,Le,Ie,tt,we,De,Ue,Me,He,Ve,Qe,$e,ze,Xe,qe,ti,ii,si,oi,hi,yt,ci,_i,pi,Ti,mi,Ai,Ni,Si,bi,q,Oi,Ri,Di,Ui,Mi,Hi,pt,Vi,Qi,ji,$i,Ki,Ji,Zi,en,rn,xi,an,ln,un,dn,kt,fn,kn,En,yn,An,Nn,Sn,Ln,In,wn,Pn,Un,Fn,Gn,Wn,Yn,$n,Xn,qn,ts,is,ss,os].forEach((function(t){as.prototype[t.kind]=t}));var hs=as;function ls(t,e){for(var i=Object.keys(t),n=i.length;n--;){var s=i[n],r=t[s];null===r?delete e[s]:"function"==typeof r?e[s]=r.bind(e):Array.isArray(r)?e[s]=Array.isArray(e[s])?e[s].concat(r):r:"object"===o(r)?e[s]="object"===o(e[s])?ls(r,e[s]):r:e[s]=r}return e}var cs=function(t){if("function"==typeof this)return new this(t);if(this.tokens=K,this.lexer=new C(this),this.ast=new hs,this.parser=new z(this.lexer,this.ast),t&&"object"===o(t)){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if("string"==typeof t.parser.version){var e=t.parser.version.split(".");if(e=100*parseInt(e[0])+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if("number"!=typeof t.parser.version)throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}ls(t,this),this.lexer.version=this.parser.version}},us=function(t){return"function"==typeof t.write?t.toString():t};cs.create=function(t){return new cs(t)},cs.parseEval=function(t,e){return new cs(e).parseEval(t)},cs.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=us(t),this.parser.parse(t,"eval")},cs.parseCode=function(t,e,i){return"object"!==o(e)||i||(i=e,e="unknown"),new cs(i).parseCode(t,e)},cs.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=us(t),this.parser.parse(t,e)},cs.tokenGetAll=function(t,e){return new cs(e).tokenGetAll(t)},cs.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=us(t);var e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);for(var n=this.lexer.lex()||e,s=[];n!=e;){var r=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,n)&&(r=[i[n],r,this.lexer.yylloc.first_line]),s.push(r),n=this.lexer.lex()||e}return s};var _s=cs,ds=K,ps=C,fs=hs,Ts=z,ks=ls,ms=cs,Es=cs;_s.tokens=ds,_s.lexer=ps,_s.AST=fs,_s.parser=Ts,_s.combine=ks,_s.Engine=ms,_s.default=Es;var xs=function(t,e,i){var n=i&&"markdown"===i.parentParser;if(!t&&n)return"";t=t.replace(/\?>\r?\n<\?/g,"?>\n___PSEUDO_INLINE_PLACEHOLDER___<?");var s,r=new _s({parser:{extractDoc:!0},ast:{withPositions:!0,withSource:!0}}),o=-1!==t.indexOf("<?php"),a=n&&!o;try{s=a?r.parseEval(t):r.parseCode(t)}catch(t){throw t instanceof SyntaxError&&"lineNumber"in t&&(t.loc={start:{line:t.lineNumber,column:t.columnNumber}},delete t.lineNumber,delete t.columnNumber),t}return s.extra={parseAsEval:a},s.comments.forEach((function(t){"\r"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1),"\n"===t.value[t.value.length-1]&&(t.value=t.value.slice(0,-1),t.loc.end.offset=t.loc.end.offset-1)})),s},ys=n.default.util,vs=ys.hasNewline,As=ys.skipEverythingButNewLine,gs=ys.skipNewline,Ns=ys.isNextLineEmpty,Cs=ys.isPreviousLineEmpty,Ss=ys.getNextNonSpaceNonCommentCharacterIndex,bs=n.default.version;function Ls(t,e){return parseInt(bs[0])>1?t[e]:t}var Os={};function Is(t){return Os[t]}[["or"],["xor"],["and"],["=","+=","-=","*=","**=","/=",".=","%=","&=","|=","^=","<<=",">>="],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!==","<>","<=>"],["<",">","<=",">="],[">>","<<"],["+","-","."],["*","/","%"],["!"],["instanceof"],["++","--","~"],["**"]].forEach((function(t,e){t.forEach((function(t){Os[t]=e}))}));var Rs=["==","!=","===","!==","<>","<=>"],ws=["*","/","%"],Ds=[">>","<<"];function Ps(t){return["block","program","namespace","class","enum","interface","trait","traituse","declare"].includes(t.kind)}function Us(t){var e=t.body;return e?("block"===e.kind&&(e=e.children),e[0]):null}function Bs(t){var e=t.children||t.body||t.adaptations;return Array.isArray(e)?e:null}function Ms(t){var e=t.getParentNode();return e?Bs(e):null}function Fs(t){return t.length>0?t[t.length-1]:null}function Hs(t){var e=t.getValue();if("program"===e.kind){var i=Bs(e);return!(!i||0===i.length)&&"inline"===i[0].kind}if("switch"===e.kind){if(!e.body)return!1;var n=Bs(e.body);if(0===n.length)return!1;var s=h(n,1)[0];if(!s.body)return!1;var r=Bs(s.body);return 0!==r.length&&"inline"===r[0].kind}var o=Us(e);return!!o&&"inline"===o.kind}var Gs=["__construct","__destruct","__call","__callStatic","__get","__set","__isset","__unset","__sleep","__wakeup","__toString","__invoke","__set_state","__clone","__debugInfo"].reduce((function(t,e){return t[e.toLowerCase()]=e,t}),{});var Vs={printNumber:function(t){return t.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(\d)/,"$1$2$3").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e)/,"")},getPrecedence:Is,isBitwiseOperator:function(t){return!!Ds[t]||"|"===t||"^"===t||"&"===t},shouldFlatten:function(t,e){return Is(e)===Is(t)&&("**"!==t&&((!Rs.includes(t)||!Rs.includes(e))&&(!("%"===e&&ws.includes(t)||"%"===t&&ws.includes(e))&&((e===t||!ws.includes(e)||!ws.includes(t))&&(!Ds.includes(t)||!Ds.includes(e))))))},nodeHasStatement:Ps,getNodeListProperty:Bs,getParentNodeListProperty:Ms,getLast:Fs,getPenultimate:function(t){return t.length>1?t[t.length-2]:null},isLastStatement:function(t){var e=Ms(t);if(!e)return!0;var i=t.getValue();return e[e.length-1]===i},getBodyFirstChild:Us,lineShouldEndWithSemicolon:function(t){var e=t.getValue(),i=t.getParentNode();if(!i)return!1;if(["for","foreach","while","do","if","switch"].includes(i.kind)&&"block"!==e.kind&&"if"!==e.kind&&(i.body===e||i.alternate===e))return!0;if(!Ps(i))return!1;if("echo"===e.kind&&e.shortForm)return!1;if("traituse"===e.kind)return!e.adaptations;if("method"===e.kind&&e.isAbstract)return!0;if("method"===e.kind){var n=t.getParentNode();if(n&&"interface"===n.kind)return!0}return["expressionstatement","do","usegroup","classconstant","propertystatement","traitprecedence","traitalias","goto","constantstatement","enumcase","global","static","echo","unset","return","break","continue","throw"].includes(e.kind)},fileShouldEndWithHardline:function(t){var e=t.getValue(),i="program"===e.kind,n=e.children&&Fs(e.children);if(!i)return!1;if(n&&["halt","inline"].includes(n.kind))return!1;if(n&&("declare"===n.kind||"namespace"===n.kind)){var s=n.children.length>0&&Fs(n.children);if(s&&["halt","inline"].includes(s.kind))return!1}return!0},maybeStripLeadingSlashFromUse:function(t){var e=t.replace(/^\\/,"");return-1!==e.indexOf("\\")?e:t},hasDanglingComments:function(t){return t.comments&&t.comments.some((function(t){return!t.leading&&!t.trailing}))},hasLeadingComment:function(t){return t.comments&&t.comments.some((function(t){return t.leading}))},hasTrailingComment:function(t){return t.comments&&t.comments.some((function(t){return t.trailing}))},docShouldHaveTrailingNewline:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getNode(i),s=e.getNode(i+1),r=e.getNode(i+2);if(!s)return!1;if(r&&["call","new","echo"].includes(r.kind)&&!["call","array"].includes(s.kind)||"parameter"===s.kind){var o=r.arguments.length-1,a=r.arguments.indexOf(s);return a!==o}if(r&&"for"===r.kind){var h=r.init.indexOf(s);if(-1!==h)return h!==r.init.length-1;var l=r.test.indexOf(s);if(-1!==l)return l!==r.test.length-1;var c=r.increment.indexOf(s);if(-1!==c)return c!==r.increment.length-1}if("bin"===s.kind)return s.left===n||t(e,i+1);if("case"===s.kind&&s.test===n)return!0;if("staticvariable"===s.kind){var u=r.variables.length-1,_=r.variables.indexOf(s);return _!==u}if("entry"===s.kind){if(s.key===n)return!0;var d=r.items.length-1,p=r.items.indexOf(s);return p!==d}if(["call","new"].includes(s.kind)){var f=s.arguments.length-1,T=s.arguments.indexOf(n);return T!==f}if("echo"===s.kind){var k=s.expressions.length-1,m=s.expressions.indexOf(n);return m!==k}if("array"===s.kind){var E=s.items.length-1,x=s.items.indexOf(n);return x!==E}return"retif"===s.kind&&t(e,i+1)},isLookupNode:function(t){return"propertylookup"===t.kind||"nullsafepropertylookup"===t.kind||"staticlookup"===t.kind||"offsetlookup"===t.kind},isFirstChildrenInlineNode:Hs,shouldPrintHardLineAfterStartInControlStructure:function(t){var e=t.getValue();return!["try","catch"].includes(e.kind)&&Hs(t)},shouldPrintHardLineBeforeEndInControlStructure:function(t){var e=t.getValue();if(["try","catch"].includes(e.kind))return!0;if("switch"===e.kind){var i=Bs(e.body);if(0===i.length)return!0;var n=Fs(i);if(!n.body)return!0;var s=Bs(n.body);return 0===s.length||"inline"!==s[0].kind}return!Hs(t)},getAlignment:function(t){var e=t.split("\n").pop();return e.length-e.trimLeft().length+1},isProgramLikeNode:function(t){return["program","declare","namespace"].includes(t.kind)},isReferenceLikeNode:function(t){return["name","parentreference","selfreference","staticreference"].includes(t.kind)},getNodeKindIncludingLogical:function(t){return"bin"===t.kind&&["||","&&"].includes(t.type)?"logical":t.kind},useDoubleQuote:function(t,e){if(t.isDoubleQuote===e.singleQuote){var i=t.raw.slice("b"===t.raw[0]?2:1,-1).match(/\\([$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})|\r?\n|'|"|\$/);return t.isDoubleQuote?i:!i}return t.isDoubleQuote},hasEmptyBody:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",i=t.getValue();return i[e]&&i[e].children&&0===i[e].children.length&&(!i[e].comments||0===i[e].comments.length)},isNextLineEmptyAfterNamespace:function(t,e,i){var n=i(e);return n=As(t,n),n=gs(t,n),vs(t,n)},shouldPrintHardlineBeforeTrailingComma:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type||"entry"===t.kind&&("nowdoc"===t.value.kind||"encapsed"===t.value.kind&&"heredoc"===t.value.type)},isDocNode:function(t){return"nowdoc"===t.kind||"encapsed"===t.kind&&"heredoc"===t.type},getAncestorNode:function(t,e){var i=function(t,e){for(var i,n=[].concat(e),s=-1;i=t.getParentNode(++s);)if(-1!==n.indexOf(i.kind))return s;return-1}(t,e);return-1===i?null:t.getParentNode(i)},getNextNode:function(t,e){var i=t.getParentNode(),n=Bs(i);if(!n)return null;var s=n.indexOf(e);return-1===s?null:i.children[s+1]},normalizeMagicMethodName:function(t){var e=t.toLowerCase();return Gs[e]?Gs[e]:t},isPreviousLineEmpty:function(t,e,i){return Cs(t,e,Ls(i,"locStart"))},isNextLineEmpty:function(t,e,i){return Ns(t,e,Ls(i,"locEnd"))},getNextNonSpaceNonCommentCharacterIndex:function(t,e,i){return Ss(t,e,Ls(i,"locEnd"))}},Ws=n.default.util,Qs=Ws.addLeadingComment,Ys=Ws.addDanglingComment,js=Ws.addTrailingComment,$s=Ws.skipNewline,zs=Ws.hasNewline,Ks=Ws.hasNewlineInRange,Xs=n.default.doc.builders,Js=Xs.concat,qs=Xs.join,Zs=Xs.indent,tr=Xs.hardline,er=Xs.cursor,ir=Xs.lineSuffix,nr=Xs.breakParent,sr=Vs.getNextNonSpaceNonCommentCharacterIndex,rr=Vs.isNextLineEmpty,or=Vs.isPreviousLineEmpty,ar=Vs.isLookupNode;function hr(t,e){var i=t.children;0===i.length?Ys(t,e):Qs(i[0],e)}function lr(t,e){"block"===t.kind?hr(t,e):Qs(t,e)}function cr(t,e,i,n,s,r){var o=sr(t,s,r),a=t.charAt(o);return e&&"identifier"===e.kind&&i&&("function"===i.kind||"method"===i.kind)&&")"===a?(js(i,s),!0):!(!i||"function"!==i.kind&&"method"!==i.kind||!n||"block"!==n.kind)&&(hr(n,s),!0)}function ur(t,e,i,n,s,r){if(!i||"if"!==i.kind||!n)return!1;var o=sr(t,s,r);return")"===t.charAt(o)?(js(e,s),!0):e===i.body&&n===i.alternate?(Ys(i,s),!0):"if"===n.kind?(lr(n.body,s),!0):i.body===n&&(Qs(n,s),!0)}function _r(t,e,i){if(t&&["class","interface","trait"].includes(t.kind)){if(e&&t.extends)if(Array.isArray(t.extends)){if(t.extends.some((function(t){if(e&&e===t)return Ys(e,i),!0})))return!0}else if(e===t.extends)return Ys(e,i),!0;if(e&&t.implements&&t.implements.some((function(t){if(e&&e===t)return Ys(e,i),!0})))return!0;if(!(t.body&&t.body.length>0))return Ys(t,i),!0}return!!(e&&"class"===e.kind&&e.isAnonymous&&e.leadingComments&&"commentblock"===i.kind)}function dr(t,e,i,n,s){if(e&&("function"===e.kind||"method"===e.kind)){for(var r=0,o=0;o<e.arguments.length;o++)r=s.locEnd(e.arguments[o])>r?s.locEnd(e.arguments[o]):r;var a=e.body&&s.locStart(n)>r&&s.locEnd(n)<s.locStart(e.body),h=sr(t,n,s);if(e.type&&a&&")"!==t.charAt(h))return s.locEnd(n)<s.locStart(e.type)?(Ys(e.type,n),!0):(js(e.type,n),!0)}return!1}function pr(t,e,i,n,s){return!(!i||!["function","method","parameter"].includes(i.kind))&&("typereference"===e.kind&&"identifier"===n.kind&&(js(e,s),!0))}function fr(t,e){return!(!t||!["label","goto"].includes(t.kind))&&(js(t,e),!0)}function Tr(t,e,i,n){return i&&"inline"===i.kind?(i.leadingComments||(i.leadingComments=[]),i.leadingComments.includes(n)||i.leadingComments.push(n),!0):!(t||i||!e||"inline"!==e.kind)&&(Ys(e,n),!0)}function kr(t,e,i){return!(!t||"try"!==t.kind||!e)&&("block"===e.kind?(hr(e,i),!0):"try"===e.kind?(lr(e.always,i),!0):"catch"===e.kind&&(lr(e.body,i),!0))}function mr(t,e,i,n){return i||e||!t||"namespace"!==t.kind||t.withBrackets?!(e||!t||"namespace"!==t.kind||t.withBrackets)&&(Ys(t,n),!0):(js(t,n),!0)}function Er(t,e,i,n){return!(!t||"declare"!==t.kind)&&((!e||"noop"!==e.kind)&&(i&&t.directives[0]!==i?!(!i||!e)&&(Qs(i,n),!0):("none"===t.mode?js(t,n):Ys(t,n),!0)))}function xr(t,e,i,n,s,r){if(!i||"while"!==i.kind||!n)return!1;var o=sr(t,s,r);return")"===t.charAt(o)?(js(e,s),!0):"block"===n.kind&&(hr(n,s),!0)}function yr(t,e){return t.getValue().printed=!0,e.printer.printComment(t,e)}function vr(t,e,i){return t.getNode()===e.cursorNode&&t.getValue()?Js([er,i,er]):i}var Ar={handleOwnLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return cr(e,n,s,r,t,i)||function(t,e,i){if(t&&ar(t)&&e&&["identifier","variable","encapsed"].includes(e.kind))return Qs(t,i),!0;return!1}(s,r,t)||ur(e,n,s,r,t,i)||xr(e,n,s,r,t,i)||kr(s,r,t)||_r(s,r,t)||pr(e,n,s,r,t)||dr(e,s,r,t,i)||function(t,e,i,n){if(!i&&t&&("for"===t.kind||"foreach"===t.kind))return t.body&&"block"!==t.body.kind?Qs(i,n):Qs(t,n),!0;return!1}(s,0,r,t)||Tr(s,n,r,t)||Er(s,n,r,t)},handleEndOfLineComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return function(t,e,i,n,s){if(!e&&!n&&i&&"array"===i.kind)return js(i,s),!0;return!1}(0,n,s,r,t)||function(t,e,i,n,s){if(i&&"return"===i.kind&&!i.expr)return js(i,s),!0;return!1}(0,0,s,0,t)||cr(e,n,s,r,t,i)||function(t,e,i,n,s,r){var o=e&&!Ks(s,r.locEnd(e),r.locStart(n));if((!e||!o)&&t&&"retif"===t.kind&&i)return Qs(i,n),!0;return!1}(s,n,r,t,e,i)||ur(e,n,s,r,t,i)||xr(e,n,s,r,t,i)||kr(s,r,t)||_r(s,r,t)||pr(e,n,s,r,t)||dr(e,s,r,t,i)||function(t,e){if(t&&"entry"===t.kind)return Qs(t,e),!0;return!1}(s,t)||function(t,e,i){if(e&&"call"===e.kind&&t&&e.what===t&&e.arguments.length>0)return Qs(e.arguments[0],i),!0;return!1}(n,s,t)||function(t,e,i){if(t&&"assign"===t.kind&&e){var n=t.loc.start.offset+t.loc.source.indexOf("=");if(i.loc.start.offset>n)return Qs(e,i),!0}return!1}(s,r,t)||Tr(s,n,r,t)||mr(s,n,r,t)||Er(s,n,r,t)||fr(s,t)},handleRemainingComment:function(t,e,i){var n=t.precedingNode,s=t.enclosingNode,r=t.followingNode;return ur(e,n,s,r,t,i)||xr(e,n,s,r,t,i)||function(t,e,i,n){var s=sr(t,i,n);if(")"!==t.charAt(s))return!1;if(e&&("function"===e.kind||"closure"===e.kind||"method"===e.kind||"call"===e.kind||"new"===e.kind)&&0===e.arguments.length)return Ys(e,i),!0;return!1}(e,s,t,i)||_r(s,r,t)||function(t,e,i){if(t&&"traituse"===t.kind&&t.adaptations&&!t.adaptations.length)return Ys(t,i),!0;return!1}(s,0,t)||pr(e,n,s,r,t)||dr(e,s,r,t,i)||fr(s,t)||function(t,e,i,n){if(e&&"halt"===e.kind)return Ys(e,n),!0;if(t&&"halt"===t.kind)return Ys(t,n),!0;return!1}(n,s,0,t)||function(t,e){if(t&&("continue"===t.kind||"break"===t.kind)&&!t.label)return js(t,e),!0;return!1}(s,t)||Tr(s,n,r,t)||mr(s,n,r,t)},getCommentChildNodes:function(t){return"object"!==o(t)?[]:function(t){return Object.keys(t).filter((function(t){return"kind"!==t&&"loc"!==t&&"errors"!==t&&"extra"!==t&&"comments"!==t&&"leadingComments"!==t&&"enclosingNode"!==t&&"precedingNode"!==t&&"followingNode"!==t})).map((function(e){return t[e]}))}(t)},canAttachComment:function(t){return t.kind&&"commentblock"!==t.kind&&"commentline"!==t.kind},isBlockComment:function(t){return"commentblock"===t.kind},printDanglingComments:function(t,e,i,n){var s=[],r=t.getValue();return r&&r.comments?(t.each((function(t){var i=t.getValue();!i||i.leading||i.trailing||n&&!n(i)||s.push(yr(t,e))}),"comments"),0===s.length?"":i?qs(tr,s):Zs(Js([tr,qs(tr,s)]))):""},hasLeadingComment:function(t){return t.comments&&t.comments.some((function(t){return t.leading}))},hasTrailingComment:function(t){return t.comments&&t.comments.some((function(t){return t.trailing}))},hasLeadingOwnLineComment:function(t,e,i){return e.comments&&e.comments.some((function(e){return e.leading&&zs(t,i.locEnd(e))}))},printComments:function(t,e){var i=[];return t.forEach((function(t,n,s){t.printed=!0;var r=s.length===n+1;i.push(t.value),r||i.push(tr),rr(e.originalText,t,e)&&!r&&i.push(tr)})),Js(i)},printAllComments:function(t,e,i,n){var s=t.getValue(),r=e(t),o=s&&s.comments;if(!o||0===o.length)return vr(t,i,r);var a=[],h=[n?";":"",r];return t.each((function(t){var e=t.getValue(),n=e.leading,s=e.trailing;if(n){var r=function(t,e,i){var n=t.getValue(),s=yr(t,i);if(!s)return"";var r=i.printer.isBlockComment&&i.printer.isBlockComment(n);return Js(r?[s,zs(i.originalText,i.locEnd(n))?tr:" "]:[s,tr])}(t,0,i);if(!r)return;a.push(r);var o=i.originalText;zs(o,$s(o,i.locEnd(e)))&&a.push(tr)}else s&&h.push(function(t,e,i){var n=t.getValue(),s=yr(t,i);if(!s)return"";var r=i.printer.isBlockComment&&i.printer.isBlockComment(n);if(zs(i.originalText,i.locStart(n),{backwards:!0})){var o=or(i.originalText,n,i);return ir(Js([tr,o?tr:"",s]))}return Js(r?[" ",s]:[ir(Js([" ",s])),r?"":nr])}(t,0,i))}),"comments"),vr(t,i,Js(a.concat(h)))}};function gr(){}gr.strictEqual=function(){};var Nr=gr,Cr=Vs.getPrecedence,Sr=Vs.shouldFlatten,br=Vs.isBitwiseOperator;var Lr=function(t){var e=t.getParentNode();if(!e)return!1;var i=t.getName(),n=t.getNode();if(["program","expressionstatement","namespace","declare","block","include","print","return","echo"].includes(e.kind))return!1;switch(n.kind){case"pre":case"post":if("unary"===e.kind)return"pre"===n.kind&&("+"===n.type&&"+"===e.type||"-"===n.type&&"-"===e.type);case"unary":switch(e.kind){case"unary":return n.type===e.type&&("+"===n.type||"-"===n.type);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;case"bin":return"**"===e.type&&"left"===i;default:return!1}case"bin":switch(e.kind){case"assign":case"retif":return["and","xor","or"].includes(n.type);case"silent":case"cast":return n.parenthesizedExpression;case"pre":case"post":case"unary":return!0;case"call":case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":return"what"===i&&e.what===n;case"bin":var s=e.type,r=Cr(s),o=n.type,a=Cr(o);return r>a||("||"===s&&"&&"===o||(r===a&&"right"===i?(Nr.strictEqual(e.right,n),!0):r===a&&!Sr(s,o)||(r<a&&"%"===o?"+"===s||"-"===s:!!br(s))));default:return!1}case"propertylookup":case"nullsafepropertylookup":case"staticlookup":return"call"===e.kind&&("what"===i&&e.what===n&&n.parenthesizedExpression);case"clone":case"new":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;default:return!1}case"yield":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;case"retif":return e.test===n;default:return!(!n.key&&!n.value)}case"assign":return("for"!==e.kind||!e.init.includes(n)&&!e.increment.includes(n))&&("assign"!==e.kind&&("static"!==e.kind&&(!["if","do","while","foreach","switch"].includes(e.kind)&&("silent"!==e.kind&&"call"!==e.kind))));case"retif":switch(e.kind){case"cast":return!0;case"unary":case"bin":case"retif":return!("test"===i&&!e.trueExpr);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return"what"===i&&e.what===n;default:return!1}case"closure":switch(e.kind){case"call":return"what"===i&&e.what===n;case"propertylookup":case"nullsafepropertylookup":return!0;default:return!1}case"silence":case"cast":return n.parenthesizedExpression;case"string":case"array":switch(e.kind){case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":case"call":return(!["string","array"].includes(n.kind)||"offsetlookup"!==e.kind)&&("what"===i&&e.what===n);default:return!1}case"print":case"include":return"bin"===e.kind}return!1},Or=n.default.doc.builders,Ir=Or.breakParent,Rr=Or.concat,wr=Or.join,Dr=Or.line,Pr=Or.lineSuffix,Ur=Or.group,Br=Or.conditionalGroup,Mr=Or.indent,Fr=Or.dedent,Hr=Or.ifBreak,Gr=Or.hardline,Vr=Or.softline,Wr=Or.literalline,Qr=Or.align,Yr=Or.dedentToRoot,jr=n.default.doc.utils.willBreak,$r=n.default.util,zr=$r.isNextLineEmptyAfterIndex,Kr=$r.hasNewline,Xr=$r.hasNewlineInRange,Jr=Vs.getLast,qr=Vs.getPenultimate,Zr=Vs.isLastStatement,to=Vs.lineShouldEndWithSemicolon,eo=Vs.printNumber,io=Vs.shouldFlatten,no=Vs.maybeStripLeadingSlashFromUse,so=Vs.fileShouldEndWithHardline,ro=Vs.hasDanglingComments,oo=Vs.hasLeadingComment,ao=Vs.hasTrailingComment,ho=Vs.docShouldHaveTrailingNewline,lo=Vs.isLookupNode,co=Vs.isFirstChildrenInlineNode,uo=Vs.shouldPrintHardLineAfterStartInControlStructure,_o=Vs.shouldPrintHardLineBeforeEndInControlStructure,po=Vs.getAlignment,fo=Vs.isProgramLikeNode,To=Vs.getNodeKindIncludingLogical,ko=Vs.useDoubleQuote,mo=Vs.hasEmptyBody,Eo=Vs.isNextLineEmptyAfterNamespace,xo=Vs.shouldPrintHardlineBeforeTrailingComma,yo=Vs.isDocNode,vo=Vs.getAncestorNode,Ao=Vs.isReferenceLikeNode,go=Vs.getNextNode,No=Vs.normalizeMagicMethodName,Co=Vs.getNextNonSpaceNonCommentCharacterIndex,So=Vs.isNextLineEmpty;function bo(t,e){return parseFloat(t)>=parseFloat(e)}function Lo(t,e){return!!t.trailingCommaPHP&&bo(t.phpVersion,e)}function Oo(t){return"1tbs"!==t.braceStyle}function Io(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rr([n?"?":"","->",t.call(i,"offset")])}function Ro(t,e,i){return Io(t,e,i,!0)}function wo(t,e,i){var n=t.getValue(),s=!["variable","identifier"].includes(n.offset.kind);return Rr(["::",s?"{":"",t.call(i,"offset"),s?"}":""])}function Do(t,e,i){var n=t.getValue(),s=n.offset&&"number"===n.offset.kind||vo(t,"encapsed");return Rr(["[",n.offset?Ur(Rr([Mr(Rr([s?"":Vr,t.call(i,"offset")])),s?"":Vr])):"","]"])}function Po(t){return"array"===t.kind&&(t.items.length>0||t.comments)||"function"===t.kind||"method"===t.kind||"closure"===t.kind}function Uo(t){var e=Jr(t),i=qr(t);return!oo(e)&&!ao(e)&&Po(e)&&(!i||i.kind!==e.kind)}function Bo(t){if(2!==t.length)return!1;var e=h(t,2),i=e[0],n=e[1];return!(i.comments&&i.comments.length||"function"!==i.kind&&"method"!==i.kind&&"closure"!==i.kind||"retif"===n.kind||Po(n))}function Mo(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"arguments",s=t.getValue()[n];if(0===s.length)return Rr(["(",Ar.printDanglingComments(t,e,!0),")"]);var r=!1,o=!1,a=s.length-1,h=t.map((function(t,n){var s=t.getNode(),h=[i(t)];return n===a||(So(e.originalText,s,e)?(0===n&&(o=!0),r=!0,h.push(",",Gr,Gr)):h.push(",",Dr)),Rr(h)}),n),l=t.getValue(),c=Jr(s),u=Lo(e,"7.3")&&["call","new","unset","isset"].includes(l.kind)||Lo(e,"8.0")&&["function","closure","method","arrowfunc","attribute"].includes(l.kind)?Mr(Rr([c&&xo(c)?Gr:"",","])):"";function _(){return Ur(Rr(["(",Mr(Rr([Dr,Rr(h)])),u,Dr,")"]),{shouldBreak:!0})}var d=Bo(s),p=Uo(s);if(d||p){var f,T=(d?h.slice(1).some(jr):h.slice(0,-1).some(jr))||r,k=0;t.each((function(t){d&&0===k&&(f=[Rr([t.call((function(t){return i(t,{expandFirstArg:!0})})),h.length>1?",":"",o?Gr:Dr,o?Gr:""])].concat(h.slice(1))),p&&k===s.length-1&&(f=h.slice(0,-1).concat(t.call((function(t){return i(t,{expandLastArg:!0})})))),k++}),n);var m=h.some(jr),E=Rr(["(",Rr(f),")"]);return Rr([m?Ir:"",Br([m?Hr(_(),E):E,Rr(d?["(",Ur(f[0],{shouldBreak:!0}),Rr(f.slice(1)),")"]:["(",Rr(h.slice(0,-1)),Ur(Jr(f),{shouldBreak:!0}),")"]),Ur(Rr(["(",Mr(Rr([Dr,Rr(h)])),Hr(u),Dr,")"]),{shouldBreak:!0})],{shouldBreak:T})])}return Ur(Rr(["(",Mr(Rr([Vr,Rr(h)])),Hr(u),Vr,")"]),{shouldBreak:h.some(jr)||r})}function Fo(t){return"array"===t.kind&&0!==t.items.length}function Ho(t){return"array"===t.right.kind&&0!==t.right.items.length}function Go(t,e,i,n,s){var r=[],o=t.getValue();if("bin"===o.kind){io(o.type,o.left.type)?r=r.concat(t.call((function(t){return Go(t,e,i,!0,s)}),"left")):r.push(t.call(e,"left"));var a=Ho(o),h=Rr(a?[o.type," ",t.call(e,"right")]:[o.type,Dr,t.call(e,"right")]),l=t.getParentNode(),c=!(s&&["||","&&"].includes(o.type))&&To(l)!==To(o)&&To(o.left)!==To(o)&&To(o.right)!==To(o),u=yo(o.left)||"bin"===o.left.kind&&yo(o.left.right);r.push(u?"":" ",c?Ur(h):h),n&&o.comments&&(r=Ar.printAllComments(t,(function(){return Rr(r)}),i))}else r.push(t.call(e));return r}function Vo(t,e,i){var n=t.getValue();switch(n.kind){case"propertylookup":return Io(t,e,i);case"nullsafepropertylookup":return Ro(t,e,i);case"staticlookup":return wo(t,0,i);case"offsetlookup":return Do(t,0,i);default:return"Have not implemented lookup kind ".concat(n.kind," yet.")}}function Wo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.opening,n=void 0===i||i;if("heredoc"===t.type)return n?"<<<".concat(t.label):t.label;var s={string:'"',shell:"`"};return s[t.type]?s[t.type]:"Unimplemented encapsed type ".concat(t.type)}function Qo(t,e,i){var n=[],s=[];return t.each((function(t){n.push(Rr(s)),n.push(Ur(i(t))),s=[",",Dr],t.getValue()&&So(e.originalText,t.getValue(),e)&&s.push(Vr)}),"items"),Rr(n)}function Yo(t,e){if(0===e.length)return t;var i=0;return e.reduce((function(e,n){var s=n.start,r=n.end,o=n.alignment,a=n.before,h=n.after,l=Rr([a||"",Rr(t.slice(s,r)),h||""]),c=e.concat(t.slice(i,s),o?Yr(Ur(Rr([Qr(new Array(o).join(" "),l)]))):Ur(l),r===t.length-1?t.slice(r):"");return i=r,c}),[])}function jo(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"children",s=t.getValue(),r=t.getParentNode(),o=-1,a=[],l=[];t.map((function(h,c){var u=h.getValue(),_="inline"===u.kind,d=i(h),p=s[n],f=p[c+1],T=!Zr(h)&&!_&&(f&&"case"===f.kind?!co(t):f&&"inline"!==f.kind),k=Rr([d,T?Gr:"",T&&So(e.originalText,u,e)?Gr:""]),m=0===c,E=p.length-1===c,x="block"===s.kind&&r&&["function","closure","method","try","catch"].includes(r.kind),y=x&&m?"":" ";if(_||!_&&E&&o>=0){var v=o;if(_&&(o=c),_&&!m||!_&&E){var A=(_?v:o)+1,g=E&&!_?c+1:c,N=p[_?v:o],C=N?po(N.raw):"",S=g-A>1,b=S?x&&!N||fo(s)&&0===A?"":Gr:"",L=S&&"halt"!==u.kind?x&&E?"":Gr:"";S&&(y=""),l.push({start:A,end:g,alignment:C,before:b,after:L})}}if(_){var O=f&&"echo"===f.kind&&f.shortForm?"<?=":"<?php",I=u.leadingComments&&u.leadingComments.length?Rr([m&&"namespace"!==s.kind&&!x?"<?php":"","namespace"!==s.kind&&x?"":Gr,Ar.printComments(u.leadingComments,e),Gr,"?>"]):fo(s)&&m&&"namespace"!==s.kind?"":Rr([y,"?>"]),R=t.getNode(c+1),w=R&&R.children&&R.children.length,D=u.comments&&u.comments.length?Rr([O,Gr,w?Ar.printComments(u.comments,e):"",Gr,w?"?>":""]):fo(s)&&E?"":Rr([O," "]);k=Rr([I,k,D])}a.push(k)}),n);var c=Yo(a,l);if("program"===s.kind&&!s.extra.parseAsEval){var u=[],_=h(s.children,1),d=_[0],p=!d||"inline"!==d.kind;if(p){var f=e.originalText.trim().match(/^<\?(php|=)(\s+)?\S/),T=Rr([f&&f[2]&&f[2].includes("\n")?Rr([Gr,f[2].split("\n").length>2?Gr:""]):" ",s.comments?Ar.printComments(s.comments,e):""]),k=d&&"echo"===d.kind&&d.shortForm;u.push(Rr([k?"<?=":"<?php",T]))}u.push(Rr(c));var m=e.originalText.trim().endsWith("?>");if(m){var E=Jr(s.children),x=E?Rr([Xr(e.originalText.trimEnd(),e.locEnd(E),e.locEnd(s))?Gr:" ",So(e.originalText,E,e)?Gr:""]):s.comments?Gr:"";u.push(Pr(Rr([x,"?>"])))}return Rr(u)}return Rr(c)}function $o(t,e,i,n){return Rr(t.map((function(t){var n=[];return n.push(i(t)),Zr(t)||(n.push(Gr),So(e.originalText,t.getValue(),e)&&n.push(Gr)),Rr(n)}),n))}function zo(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"extends",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:" ",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:" ",o=t.getValue(),a=ro(o[n])?Rr([Gr,t.call((function(t){return Ar.printDanglingComments(t,e,!0)}),n),Gr]):s,h=Array.isArray(o[n])?Ur(Rr([wr(",",t.map((function(t){var n=i(t);return ro(t.getValue())?Rr([Gr,Ar.printDanglingComments(t,e,!0),Gr,n]):Rr([r,n])}),n))])):Rr([r,t.call(i,n)]);return Mr(Rr([a,n,jr(a)?Mr(h):h]))}function Ko(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=n.inline,r=void 0!==s&&s,o=[];return t.getValue().attrGroups?(t.each((function(t){var n=["#["];!r&&o.length>0&&o.push(Gr),n.push(Vr),t.each((function(t){var s=t.getValue();n.length>2&&n.push(",",Dr);var r=[s.name];s.args.length>0&&r.push(Mo(t,e,i,"args")),n.push(Ur(Rr(r)))}),"attrs"),o.push(Ur(Rr([Mr(Rr(n)),Hr(Lo(e,"8.0")?",":""),Vr,"]",r?Hr(Vr," "):""])))}),"attrGroups"),0===o.length?[]:[Rr([].concat(o,[r?"":Gr]))]):[]}function Xo(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"body",s=t.getValue();if(!s[n])return";";var r=t.call(i,n);return Rr([s.shortForm?":":" {",Mr(Rr(["block"!==s[n].kind||s[n].children&&s[n].children.length>0||s[n].comments&&s[n].comments.length>0?Rr([uo(t)?"switch"===s.kind?" ":"":Gr,r]):""])),"if"===s.kind&&"body"===n?"":Rr([_o(t)?Gr:"",s.shortForm?Rr(["end",s.kind,";"]):"}"])])}function Jo(t,e,i,n,s,r,o){if(!n)return e;var a=Zo(t,n,s,r,o);return Ur(Rr([e,i,a]))}function qo(t){return!!lo(t)&&(!("variable"!==t.what.kind&&!Ao(t.what))||qo(t.what))}function Zo(t,e,i,n,s){var r=n?"&":"";if(Ar.hasLeadingOwnLineComment(s.originalText,e,s))return Mr(Rr([Gr,r,i]));var o="cast"===e.kind?e.expr:e;return"bin"===o.kind&&!Ho(o)||"retif"===o.kind&&(!o.trueExpr&&!Fo(o.falseExpr)||"bin"===o.test.kind&&!Ho(o.test))||("variable"===t.kind||"string"===t.kind||lo(t))&&("string"===o.kind&&!ta(o)||qo(o))?Ur(Mr(Rr([Dr,r,i]))):Rr([" ",r,i])}function ta(t){return t.raw.includes("\n")}function ea(t,e,i){return("string"===t.kind||"encapsed"===t.kind&&("string"===t.type||"shell"===t.type))&&ta(t)&&!Kr(e,i.locStart(t),{backwards:!0})}function ia(t,e,i){return Ur(Rr(t.map((function(n,s){return Rr(0===s?[t.call(e)]:[i,t.call(e)])}),"types")))}var na=function(t,e,i){var n=t.getValue();if(!n)return"";if("string"==typeof n)return n;var s=function(t,e,i){var n=t.getValue();switch(n.kind){case"program":return Ur(Rr([jo(t,e,i),Ar.printDanglingComments(t,e,!0,(function(t){return!t.printed}))]));case"expressionstatement":return t.call(i,"expression");case"block":return Rr([jo(t,e,i),Ar.printDanglingComments(t,e,!0)]);case"declare":var s=function(t){return wr(", ",t.map((function(t){return Rr([i(t)])}),"directives"))};if(["block","short"].includes(n.mode))return Rr(["declare(",s(t),")","block"===n.mode?" {":":",n.children.length>0?Mr(Rr([Gr,jo(t,e,i)])):"",Ar.printDanglingComments(t,e),Gr,"block"===n.mode?"}":"enddeclare;"]);var r=go(t,n);return Rr(["declare(",s(t),")",r&&"inline"===r.kind?"":";"]);case"declaredirective":return Rr([t.call(i,"key"),"=",t.call(i,"value")]);case"namespace":return Rr(["namespace ",n.name&&"string"==typeof n.name?Rr([n.name,n.withBrackets?" ":""]):"",n.withBrackets?"{":";",ro(n)?Rr([" ",Ar.printDanglingComments(t,e,!0)]):"",n.children.length>0?n.withBrackets?Mr(Rr([Gr,jo(t,e,i)])):Rr(["inline"===n.children[0].kind?"":Rr([Gr,Eo(e.originalText,n,e.locStart)?Gr:""]),jo(t,e,i)]):"",n.withBrackets?Rr([Gr,"}"]):""]);case"usegroup":return Ur(Rr(["use ",n.type?Rr([n.type," "]):"",Mr(Rr([n.name?Rr([no(n.name),"\\{",Vr]):"",wr(Rr([",",Dr]),t.map((function(t){return Rr([i(t)])}),"items"))])),n.name?Rr([Hr(Lo(e,"7.2")?",":""),Vr,"}"]):""]));case"useitem":return Rr([n.type?Rr([n.type," "]):"",no(n.name),ro(n)?Rr([" ",Ar.printDanglingComments(t,e,!0)]):"",n.alias?Rr([" as ",t.call(i,"alias")]):""]);case"class":case"enum":case"interface":case"trait":return function(t,e,i){var n=t.getValue(),s="class"===n.kind&&n.isAnonymous,r=Ko(t,e,i,{inline:s}),o=s?[]:l(r);n.isFinal&&o.push("final ");n.isAbstract&&o.push("abstract ");o.push(s?"":n.kind),n.name&&o.push(" ",t.call(i,"name"));"enum"===n.kind&&n.valueType&&o.push(": ",t.call(i,"valueType"));n.extends&&n.implements?o.push(Br([Rr([zo(t,e,i,"extends"),zo(t,e,i,"implements")]),Rr([zo(t,e,i,"extends"),zo(t,e,i,"implements"," ",Gr)]),Rr([zo(t,e,i,"extends",Gr," "),zo(t,e,i,"implements",Gr,n.implements.length>1?Gr:" ")])],{shouldBreak:ro(n.extends)})):(n.extends&&o.push(Br([zo(t,e,i,"extends"),zo(t,e,i,"extends"," ",Gr),zo(t,e,i,"extends",Gr,n.extends.length>1?Gr:" ")])),n.implements&&o.push(Br([zo(t,e,i,"implements"),zo(t,e,i,"implements"," ",Gr),zo(t,e,i,"implements",Gr,n.implements.length>1?Gr:" ")])));var a=Ur(Rr([Ur(Rr(o)),Oo(e)?s?Dr:Gr:" "])),h=n.body&&0===n.body.length&&!ro(n),c=Rr(["{",Mr(Rr([h?"":Gr,$o(t,e,i,"body")])),Ar.printDanglingComments(t,e,!0),s&&h?Vr:Gr,"}"]);return Rr([a,c])}(t,e,i);case"traitprecedence":return Rr([t.call(i,"trait"),"::",t.call(i,"method")," insteadof ",wr(", ",t.map(i,"instead"))]);case"traitalias":return Rr([n.trait?Rr([t.call(i,"trait"),"::"]):"",n.method?t.call(i,"method"):""," as ",wr(" ",[].concat(l(n.visibility?[n.visibility]:[]),l(n.as?[t.call(i,"as")]:[])))]);case"traituse":return Ur(Rr(["use ",Mr(Ur(wr(Rr([",",Dr]),t.map(i,"traits")))),n.adaptations?Rr([" {",n.adaptations.length>0?Rr([Mr(Rr([Gr,$o(t,e,i,"adaptations")])),Gr]):ro(n)?Rr([Dr,Ar.printDanglingComments(t,e,!0),Dr]):"","}"]):""]));case"function":case"closure":case"method":return function(t,e,i){var n=t.getValue(),s=l(Ko(t,e,i,{inline:"closure"===n.kind}));n.isFinal&&s.push("final ");n.isAbstract&&s.push("abstract ");n.visibility&&s.push(n.visibility," ");n.isStatic&&s.push("static ");s.push("function "),n.byref&&s.push("&");n.name&&s.push(t.call(i,"name"));s.push(Mo(t,e,i)),n.uses&&n.uses.length>0&&s.push(Ur(Rr([" use ",Mo(t,e,i,"uses")])));n.type&&s.push(Rr([": ",ro(n.type)?Rr([t.call((function(t){return Ar.printDanglingComments(t,e,!0)}),"type")," "]):"",n.nullable?"?":"",t.call(i,"type")]));var r=Rr(s);if(!n.body)return r;var o="closure"===n.kind,a=Rr(["{",Mr(Rr([mo(t)?"":Gr,t.call(i,"body")])),o&&mo(t)?"":Gr,"}"]);if(o)return Rr([r," ",a]);if(0===n.arguments.length)return Rr([r,Oo(e)?Gr:" ",a]);if(s.some(jr))return Rr([r," ",a]);return Br([Rr([r,Oo(e)?Gr:" ",a]),Rr([r," ",a])])}(t,e,i);case"arrowfunc":return Rr([].concat(l(Ko(t,e,i,{inline:!0})),[n.isStatic?"static ":"","fn",Mo(t,e,i),n.type?Rr([": ",n.nullable?"?":"",t.call(i,"type")]):""," => ",t.call(i,"body")]));case"parameter":var o="";1===n.flags?o="public ":2===n.flags?o="protected ":4===n.flags&&(o="private ");var a=Rr([].concat(l(Ko(t,e,i,{inline:!0})),[o,n.readonly?"readonly ":"",n.nullable?"?":"",n.type?Rr([t.call(i,"type")," "]):"",n.byref?"&":"",n.variadic?"...":"","$",t.call(i,"name")]));return n.value?Ur(Rr([a,ro(n)?" ":"",Ar.printDanglingComments(t,e,!0),Rr([" =",Zo(n.name,n.value,t.call(i,"value"),!1,e)])])):a;case"variadic":return Rr(["...",t.call(i,"what")]);case"property":return Ur(Rr([n.readonly?"readonly ":"",n.type?Rr([n.nullable?"?":"",t.call(i,"type")," "]):"","$",t.call(i,"name"),n.value?Rr([" =",Zo(n.name,n.value,t.call(i,"value"),!1,e)]):""]));case"propertystatement":var c=[];t.map((function(t){return c.push.apply(c,l(Ko(t,e,i)))}),"properties");var u,_=t.map((function(t){return i(t)}),"properties"),d=n.properties.some((function(t){return t.value}));if(1!==_.length||n.properties[0].comments)_.length>0&&(u=Mr(_[0]));else u=h(_,1)[0];var p=n.visibility||null===n.visibility;return Ur(Rr([].concat(c,[p?Rr([null===n.visibility?"var":n.visibility,""]):"",n.isStatic?Rr([p?" ":"","static"]):"",u?Rr([" ",u]):"",Mr(Rr(_.slice(1).map((function(t){return Rr([",",d?Gr:Dr,t])}))))])));case"if":var f=[],T=Xo(t,e,i,"body"),k=Ur(Rr(["if (",Ur(Rr([Mr(Rr([Vr,t.call(i,"test")])),Vr])),")",T]));if(f.push(k,co(t)||!n.body?"":Gr),n.alternate){f.push(n.shortForm?"":"} ");var m=ao(n.body)&&n.body.comments.some((function(t){return t.trailing&&!Ar.isBlockComment(t)}))||function(t){if(!t.comments)return!1;var e=Jr(t.comments.filter((function(t){return!t.leading&&!t.trailing})));return e&&!Ar.isBlockComment(e)}(n),E=!m;f.push(E?"":Gr),ro(n)&&f.push(So(e.originalText,n.body,e)?Gr:"",Ar.printDanglingComments(t,e,!0),m?Gr:" "),f.push("else",Ur("if"===n.alternate.kind?t.call(i,"alternate"):Xo(t,e,i,"alternate")))}else f.push(n.body?n.shortForm?"endif;":"}":"");return Rr(f);case"do":return Rr(["do",Xo(t,e,i,"body")," while (",Ur(Rr([Mr(Rr([Vr,t.call(i,"test")])),Vr])),")"]);case"while":case"switch":return Ur(Rr([n.kind," (",Ur(Rr([Mr(Rr([Vr,t.call(i,"test")])),Vr])),")",Xo(t,e,i,"body")]));case"for":var x=Xo(t,e,i,"body"),y=Ar.printDanglingComments(t,e,!0),v=y?Rr([y,Vr]):"";return n.init.length||n.test.length||n.increment.length?Rr([v,Ur(Rr(["for (",Ur(Rr([Mr(Rr([Vr,Ur(Rr([wr(Rr([",",Dr]),t.map(i,"init"))])),";",Dr,Ur(Rr([wr(Rr([",",Dr]),t.map(i,"test"))])),";",Dr,Ur(wr(Rr([",",Dr]),t.map(i,"increment")))])),Vr])),")",x]))]):Rr([v,Ur(Rr(["for (;;)",x]))]);case"foreach":var A=Xo(t,e,i,"body"),g=Ar.printDanglingComments(t,e,!0),N=g?Rr([g,Vr]):"";return Rr([N,Ur(Rr(["foreach (",Ur(Rr([Mr(Rr([Vr,t.call(i,"source"),Dr,"as ",Ur(n.key?Mr(wr(Rr([" =>",Dr]),[t.call(i,"key"),t.call(i,"value")])):t.call(i,"value"))])),Vr])),")",A]))]);case"try":var C=[];return C.push("try",Xo(t,e,i,"body")),n.catches&&C.push(Rr(t.map(i,"catches"))),n.always&&C.push(" finally",Xo(t,e,i,"always")),Rr(C);case"catch":return Rr([" catch",n.what?Rr([" (",wr(" | ",t.map(i,"what")),n.variable?Rr([" ",t.call(i,"variable")]):"",")"]):"",Xo(t,e,i,"body")]);case"case":return Rr([n.test?Rr(["case ",n.test.comments?Mr(t.call(i,"test")):t.call(i,"test"),":"]):"default:",n.body&&n.body.children&&n.body.children.length?Mr(Rr([co(t)?"":Gr,t.call(i,"body")])):""]);case"break":case"continue":return n.level&&("number"===n.level.kind&&"1"!==n.level.value)?Rr(["".concat(n.kind," "),t.call(i,"level")]):n.kind;case"call":return 1===n.arguments.length&&ea(n.arguments[0],e.originalText,e)?Rr([t.call(i,"what"),Rr(["(",wr(", ",t.map(i,"arguments")),")"])]):lo(n.what)?function(t,e,i){var n=[];function s(t){var i=e.originalText,n=Co(i,t,e);return")"===i.charAt(n)?zr(i,n+1,e):So(i,t,e)}function r(t){var o=t.getValue();if("call"!==o.kind||!lo(o.what)&&"call"!==o.what.kind)if(lo(o)){var a=null;a="propertylookup"===o.kind?Io(t,e,i):"nullsafepropertylookup"===o.kind?Ro(t,e,i):"staticlookup"===o.kind?wo(t,e,i):Do(t,e,i),n.unshift({node:o,needsParens:Lr(t),printed:Ar.printAllComments(t,(function(){return a}),e)}),t.call((function(t){return r(t)}),"what")}else n.unshift({node:o,printed:t.call(i)});else n.unshift({node:o,printed:Rr([Ar.printAllComments(t,(function(){return Rr([Mo(t,e,i)])}),e),s(o)?Gr:""])}),t.call((function(t){return r(t)}),"what")}var o=t.getValue();n.unshift({node:o,printed:Mo(t,e,i)}),t.call((function(t){return r(t)}),"what");for(var a=0;a<n.length;++a)"call"===n[a].node.kind&&n[a-1]&&["propertylookup","nullsafepropertylookup","staticlookup"].includes(n[a-1].node.kind)&&n[a-1].needsParens&&(n[0].printed=Rr(["(",n[0].printed]),n[a-1].printed=Rr([n[a-1].printed,")"]));for(var h=[],l=[n[0]],c=1;c<n.length&&("call"===n[c].node.kind||lo(n[c].node)&&n[c].node.offset&&"number"===n[c].node.offset.kind);++c)l.push(n[c]);if("call"!==n[0].node.kind)for(;c+1<n.length&&(lo(n[c].node)&&lo(n[c+1].node));++c)l.push(n[c]);h.push(l),l=[];for(var u=!1;c<n.length;++c){if(u&&lo(n[c].node)){if("offsetlookup"===n[c].node.kind&&n[c].node.offset&&"number"===n[c].node.offset.kind){l.push(n[c]);continue}h.push(l),l=[],u=!1}"call"===n[c].node.kind&&(u=!0),l.push(n[c]),n[c].node.comments&&Ar.hasTrailingComment(n[c].node)&&(h.push(l),l=[],u=!1)}l.length>0&&h.push(l);function _(t){var i=t[1].length&&"offsetlookup"===t[1][0].node.kind;if(1===t[0].length){var n=t[0][0].node;return"variable"===n.kind&&("this"===n.name||d&&s(n.name))||Ao(n)}function s(t){return t.length<e.tabWidth}var r=Jr(t[0]).node;return lo(r)&&("identifier"===r.offset.kind||"variable"===r.offset.kind)&&i}var d="expressionstatement"===t.getParentNode().kind,p=h.length>=2&&!h[1][0].node.comments&&_(h);function f(t){for(var e=[],i=0;i<t.length;i++)t[i+1]&&t[i+1].needsParens?(e.push("(",t[i].printed,t[i+1].printed,")"),i++):e.push(t[i].printed);return Rr(e)}function T(t){return 0===t.length?"":Mr(Ur(Rr([Gr,wr(Gr,t.map(f))])))}var k=h.map(f),m=Rr(k),E=p?3:2,x=h.slice(0,E).reduce((function(t,e){return t.concat(e)}),[]),y=x.slice(1,-1).some((function(t){return Ar.hasLeadingComment(t.node)}))||x.slice(0,-1).some((function(t){return Ar.hasTrailingComment(t.node)}))||h[E]&&Ar.hasLeadingComment(h[E][0].node),v=vo(t,"encapsed");if(h.length<=E&&!y||v)return Ur(m);var A=Jr(p?h.slice(1,2)[0]:h[0]).node,g="call"!==A.kind&&s(A),N=Rr([f(h[0]),p?Rr(h.slice(1,2).map(f)):"",g?Gr:"",T(h.slice(p?2:1))]),C=n.filter((function(t){return"call"===t.node.kind})).length;if(y||C>=3||k.slice(0,-1).some(jr))return Ur(N);return Rr([jr(m)||g?Ir:"",Br([m,N])])}(t,e,i):Rr([t.call(i,"what"),Mo(t,e,i)]);case"new":var S=n.what&&"class"===n.what.kind&&n.what.isAnonymous;if(!S&&1===n.arguments.length&&ea(n.arguments[0],e.originalText,e))return Rr(["new "].concat(l(t.call(Ko,"what")),[t.call(i,"what"),"(",wr(", ",t.map(i,"arguments")),")"]));var b=[];if(b.push("new "),S)b.push.apply(b,[n.what.leadingComments&&"commentblock"===n.what.leadingComments[0].kind?Rr([Ar.printComments(n.what.leadingComments,e)," "]):""].concat(l(t.call((function(t){return Ko(t,e,i,{inline:!0})}),"what")),["class",n.arguments.length>0?Rr([" ",Mo(t,e,i)]):"",Ur(t.call(i,"what"))]));else{var L=Rr([t.call(i,"what"),Mo(t,e,i)]);b.push(oo(n.what)?Mr(L):L)}return Rr(b);case"clone":return Rr(["clone ",n.what.comments?Mr(t.call(i,"what")):t.call(i,"what")]);case"propertylookup":case"nullsafepropertylookup":case"staticlookup":case"offsetlookup":var O,I=t.getParentNode(),R=0;do{O=t.getParentNode(R),R++}while(O&&lo(O));var w=vo(t,"encapsed")||O&&("new"===O.kind||"assign"===O.kind&&"variable"!==O.left.kind)||"offsetlookup"===n.kind||(Ao(n.what)||"variable"===n.what.kind)&&["identifier","variable","encapsedpart"].includes(n.offset.kind)&&I&&!lo(I);return Rr([t.call(i,"what"),w?Vo(t,e,i):Ur(Mr(Rr([Vr,Vo(t,e,i)])))]);case"exit":return Ur(Rr([n.useDie?"die":"exit","(",n.expression?ea(n.expression,e.originalText,e)?t.call(i,"expression"):Rr([Mr(Rr([Vr,t.call(i,"expression")])),Vr]):Ar.printDanglingComments(t,e),")"]));case"global":return Ur(Rr(["global ",Mr(Rr([wr(Rr([",",Dr]),t.map(i,"items"))]))]));case"include":return Rr([n.require?"require":"include",n.once?"_once":""," ",n.target.comments?Mr(t.call(i,"target")):t.call(i,"target")]);case"label":return Rr([t.call(i,"name"),":"]);case"goto":return Rr(["goto ",t.call(i,"label")]);case"throw":return Rr(["throw ",n.what.comments?Mr(t.call(i,"what")):t.call(i,"what")]);case"silent":return Rr(["@",t.call(i,"expr")]);case"halt":return Rr([ro(n)?Rr([Ar.printDanglingComments(t,e,!0),Gr]):"","__halt_compiler();",n.after]);case"eval":return Ur(Rr(["eval(",ea(n.source,e.originalText,e)?t.call(i,"source"):Rr([Mr(Rr([Vr,t.call(i,"source")])),Vr]),")"]));case"echo":var D,P=t.map((function(t){return i(t)}),"expressions");if(1!==P.length||n.expressions[0].comments)P.length>0&&(D=yo(n.expressions[0])||n.expressions[0].comments?Mr(P[0]):Fr(P[0]));else D=h(P,1)[0];return Ur(Rr([n.shortForm?"":"echo ",D||"",Mr(Rr(P.slice(1).map((function(t){return Rr([",",Dr,t])}))))]));case"print":return Rr(["print ",n.expression.comments?Mr(t.call(i,"expression")):t.call(i,"expression")]);case"return":var U=[];if(U.push("return"),n.expr){var B=t.call(i,"expr");U.push(" ",n.expr.comments?Mr(B):B)}return ro(n)&&U.push(" ",Ar.printDanglingComments(t,e,!0)),Rr(U);case"isset":case"unset":return Ur(Rr([n.kind,Mo(t,e,i,"variables")]));case"empty":return Ur(Rr(["empty(",Mr(Rr([Vr,t.call(i,"expression")])),Vr,")"]));case"variable":var M=t.getParentNode(),F=t.getParentNode(1),H="assign"===M.kind?"":n.byref?"&":"",G="encapsedpart"===M.kind&&"simple"===M.syntax&&M.curly||F&&"offsetlookup"===M.kind&&"encapsedpart"===F.kind&&"simple"===F.syntax&&F.curly?"":"$",V=n.curly?"{":"",W=n.curly?"}":"";return Rr([H,G,V,t.call(i,"name"),W]);case"constantstatement":case"classconstant":var Q,Y=Ko(t,e,i),j=t.map((function(t){return i(t)}),"constants");if(1!==j.length||n.constants[0].comments)j.length>0&&(Q=Mr(j[0]));else Q=h(j,1)[0];return Ur(Rr([].concat(l(Y),[n.visibility?Rr([n.visibility," "]):"","const",Q?Rr([" ",Q]):"",Mr(Rr(j.slice(1).map((function(t){return Rr([",",Gr,t])}))))])));case"constant":return Jo(n.name,t.call(i,"name")," =",n.value,t.call(i,"value"),!1,e);case"static":var $,z=t.map((function(t){return i(t)}),"variables"),K=n.variables.some((function(t){return t.defaultValue}));if(1!==z.length||n.variables[0].comments)z.length>0&&($=Mr(z[0]));else $=h(z,1)[0];return Ur(Rr(["static",$?Rr([" ",$]):"",Mr(Rr(z.slice(1).map((function(t){return Rr([",",K?Gr:Dr,t])}))))]));case"staticvariable":return Jo(n.variable,t.call(i,"variable")," =",n.defaultValue,t.call(i,"defaultValue"),!1,e);case"list":case"array":var X="array"===n.kind&&bo(e.phpVersion,"5.4")||"list"===n.kind&&(n.shortForm||bo(e.phpVersion,"7.1")),J=X?"[":Rr([n.kind,"("]),q=X?"]":")";if(0===n.items.length)return ro(n)?Ur(Rr([J,Ar.printDanglingComments(t,e),Vr,q])):Rr([J,q]);var Z=Jr(n.items),tt=Z&&"noop"===Z.kind,et=h(n.items.filter((function(t){return"noop"!==t.kind})).sort((function(t,i){return e.locStart(t)-e.locStart(i)})),1)[0],it=!(!et||!et.key)&&et&&Xr(e.originalText,e.locStart(n),e.locStart(et));return Ur(Rr([J,Mr(Rr([Vr,Qo(t,e,i)])),tt?",":"",Hr(!tt&&Lo(e,"5.0")?Rr([Z&&xo(Z)?Gr:"",","]):""),Ar.printDanglingComments(t,e,!0),Vr,q]),{shouldBreak:it});case"entry":var nt=n.byRef?"&":"",st=n.unpack?"...":"";return n.key?Jo(n.key,t.call(i,"key")," =>",n.value,t.call(i,"value"),nt,e):Rr([nt,st,t.call(i,"value")]);case"yield":var rt=Rr([n.key?Rr([t.call(i,"key")," => "]):"",t.call(i,"value")]);return Rr(["yield",n.key||n.value?" ":"",n.value&&n.value.comments?Mr(rt):rt]);case"yieldfrom":return Rr(["yield from ",n.value.comments?Mr(t.call(i,"value")):t.call(i,"value")]);case"unary":return Rr([n.type,t.call(i,"what")]);case"pre":return Rr([n.type+n.type,t.call(i,"what")]);case"post":return Rr([t.call(i,"what"),n.type+n.type]);case"cast":return Rr(["(",n.type,") ",n.expr.comments?Mr(t.call(i,"expr")):t.call(i,"expr")]);case"assignref":case"assign":var ot="assignref"===n.kind;return Jo(n.left,t.call(i,"left"),Rr([" ",ot?"=":n.operator]),n.right,t.call(i,"right"),ot,e);case"bin":var at=t.getParentNode(),ht=t.getParentNode(1),lt=n!==at.body&&("if"===at.kind||"while"===at.kind||"switch"===at.kind||"do"===at.kind),ct=Go(t,i,e,!1,lt);if(lt)return Rr(ct);if("unary"===at.kind||lo(at)&&"offsetlookup"!==at.kind)return Ur(Rr([Mr(Rr([Vr,Rr(ct)])),Vr]));var ut=n!==at.body&&"for"===at.kind||"retif"===at.kind&&ht&&"return"!==ht.kind,_t=["assign","property","constant","staticvariable","entry"].includes(at.kind),dt="bin"===n.left.kind&&io(n.type,n.left.type);if(ut||Ho(n)&&!dt||!Ho(n)&&_t)return Ur(Rr(ct));var pt=Rr(ct.slice(1));return Ur(Rr([ct.length>0?ct[0]:"",Mr(pt)]));case"retif":var ft,Tt=[],kt=t.getParentNode(),mt=0;do{ft=t.getParentNode(mt),mt++}while(ft&&"retif"===ft.kind);var Et=ft||kt,xt="bin"===n.falseExpr.kind?Mr(t.call(i,"falseExpr")):t.call(i,"falseExpr"),yt=Rr([n.trueExpr?Dr:" ","?",n.trueExpr?Rr([" ","bin"===n.trueExpr.kind?Mr(t.call(i,"trueExpr")):t.call(i,"trueExpr"),Dr]):"",":",n.trueExpr?Rr([" ",xt]):Rr([Fo(n.falseExpr)?" ":Dr,xt])]);Tt.push(yt);var vt=function(t){return kt===Et?Ur(t):t},At=t.getParentNode(1),gt="cast"===kt.kind&&At?At:kt,Nt=["propertylookup","nullsafepropertylookup","staticlookup"].includes(gt.kind),Ct=t.call(i,"test");if(!n.trueExpr){var St=Rr([Ct,"bin"===gt.kind||["print","echo","return","include"].includes(Et.kind)?Mr(Rr(Tt)):Rr(Tt)]);return"call"===gt.kind&&gt.what===n||"unary"===gt.kind||lo(gt)&&"offsetlookup"!==gt.kind?Ur(Rr([Mr(Rr([Vr,St])),Vr])):vt(St)}return vt(Rr(["retif"===n.test.kind?Mr(Ct):Ct,Mr(Rr(Tt)),Nt?Vr:""]));case"boolean":return n.value?"true":"false";case"number":return eo(n.value);case"string":if("encapsedpart"===t.getParentNode().kind){var bt=t.getParentNode(1),Lt=0,Ot=bo(e.phpVersion,"7.3"),It=Wr;if("heredoc"===bt.type){It=Ot?Gr:Wr;var Rt=bt.raw.split(/\r?\n/g);-1===(Lt=Rt[Rt.length-1].search(/\S/))&&(Lt=Rt[Rt.length-2].search(/\S/))}return wr(It,n.raw.split(/\r?\n/g).map((function(t,e){return e>0||0===n.loc.start.column?t.substring(Lt):t})))}var wt=ko(n,e)?'"':"'",Dt=n.raw;return"b"===n.raw[0]&&(Dt=Dt.slice(1)),['"',"'"].includes(Dt[0])&&(Dt=Dt.substr(1)),['"',"'"].includes(Dt[Dt.length-1])&&(Dt=Dt.substr(0,Dt.length-1)),Rr(["b"===n.raw[0]?"b":"",wt,wr(Wr,Dt.split(/\r?\n/g)),wt]);case"intersectiontype":return ia(t,i,"&");case"uniontype":return ia(t,i,"|");case"encapsedpart":var Pt="simple"===n.syntax&&n.curly||"complex"===n.syntax?Rr([n.curly?"$":"","{"]):"",Ut="simple"===n.syntax&&n.curly||"complex"===n.syntax?"}":"";return Rr([Pt,t.call(i,"expression"),Ut]);case"encapsed":switch(n.type){case"string":case"shell":case"heredoc":var Bt=bo(e.phpVersion,"7.3")?Gr:Wr;return Rr([Wo(n),"heredoc"===n.type?Bt:"",Rr(t.map(i,"value")),Wo(n,{opening:!1}),"heredoc"===n.type&&ho(t)?Gr:""]);default:return"Have not implemented kind ".concat(n.type," yet.")}case"inline":return wr(Wr,n.raw.replace("___PSEUDO_INLINE_PLACEHOLDER___","").split(/\r?\n/g));case"magic":return n.value;case"nowdoc":var Mt=bo(e.phpVersion,"7.3")?Gr:Wr;return Rr(["<<<'",n.label,"'",Mt,wr(Mt,n.value.split(/\r?\n/g)),Mt,n.label,ho(t)?Gr:""]);case"name":return Rr(["rn"===n.resolution?"namespace\\":"",n.name]);case"literal":return t.call(i,"value");case"parentreference":return"parent";case"selfreference":return"self";case"staticreference":return"static";case"typereference":return n.name;case"nullkeyword":return"null";case"identifier":return"method"===t.getParentNode().kind&&(n.name=No(n.name)),t.call(i,"name");case"match":var Ft=t.map((function(t,e){var n=null===t.getValue().conds?"default":Rr(t.map((function(t,e){return Ur(Rr(e>0?[",",Dr,i(t)]:[i(t)]))}),"conds")),s=t.call(i,"body");return Rr(e>0?[", ",Dr,n," => ",s]:[Dr,n," => ",s])}),"arms");return Ur(Rr(["match (",Ur(Rr([Vr,Mr(Rr([t.call(i,"cond")])),Vr])),") {",Ur(Mr(Rr([].concat(l(Ft),[e.trailingCommaPHP?Hr(","):""]))))," ",Vr,"}"]));case"noop":return n.comments?Ar.printComments(t.getValue().comments,e):"";case"namedargument":return Rr([n.name,": ",t.call(i,"value")]);case"enumcase":return Ur(Rr(["case ",t.call(i,"name"),n.value?Rr([" =",Zo(n.name,n.value,t.call(i,"value"),!1,e)]):""]));default:return"Have not implemented kind ".concat(n.kind," yet.")}}(t,e,i),r=[],o=Lr(t);return o&&r.unshift("("),r.push(s),o&&r.push(")"),to(t)&&r.push(";"),so(t)&&r.push(Gr),Rr(r)};var sa=function(t,e){if(["loc","range","raw","comments","leadingComments","trailingComments","parenthesizedExpression","parent","prev","start","end","tokens","errors","extra"].forEach((function(t){delete e[t]})),"string"===t.kind&&delete e.isDoubleQuote,["array","list"].includes(t.kind)&&delete e.shortForm,"inline"===t.kind){if(t.value.includes("___PSEUDO_INLINE_PLACEHOLDER___"))return null;e.value=e.value.replace(/\r\n?|\n/g,"")}if(("continue"===t.kind||"break"===t.kind)&&t.level){var i=e.level;"number"===i.kind&&(e.level="1"===i.value?null:i)}if("block"===t.kind&&1===t.children.length&&"block"===t.children[0].kind)for(;"block"===e.children[0].kind;)e.children=e.children[0].children;if("number"===t.kind&&(e.value=Vs.printNumber(t.value)),["foreach","for","if","while","do"].includes(t.kind)&&(t.body&&"block"!==t.body.kind?e.body={kind:"block",children:[e.body]}:e.body=e.body?e.body:null,t.alternate&&"block"!==t.alternate.kind?e.alternate={kind:"block",children:[e.alternate]}:e.alternate=e.alternate?e.alternate:null),"usegroup"===t.kind&&"string"==typeof t.name&&(e.name=e.name.replace(/^\\/,"")),"useitem"===t.kind&&(e.name=e.name.replace(/^\\/,"")),"method"===t.kind&&"identifier"===t.name.kind&&(e.name.name=Vs.normalizeMagicMethodName(e.name.name)),"noop"===t.kind)return null},ra="PHP",oa={phpVersion:{since:"0.13.0",category:ra,type:"choice",default:"7.0",description:"Minimum target PHP version.",choices:[{value:"5.0"},{value:"5.1"},{value:"5.2"},{value:"5.3"},{value:"5.4"},{value:"5.5"},{value:"5.6"},{value:"7.0"},{value:"7.1"},{value:"7.2"},{value:"7.3"},{value:"7.4"},{value:"8.0"},{value:"8.1"}]},trailingCommaPHP:{since:"0.0.0",category:ra,type:"boolean",default:!0,description:"Print trailing commas wherever possible when multi-line."},braceStyle:{since:"0.10.0",category:ra,type:"choice",default:"psr-2",description:"Print one space or newline for code blocks (classes and functions).",choices:[{value:"psr-2",description:"Use PSR-2 brace style."},{value:"1tbs",description:"Use 1tbs brace style."}]}},aa=function(t,e,i,n){if("length"!==i&&"prototype"!==i&&"arguments"!==i&&"caller"!==i){var s=Object.getOwnPropertyDescriptor(t,i),r=Object.getOwnPropertyDescriptor(e,i);!ha(s,r)&&n||Object.defineProperty(t,i,r)}},ha=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},la=function(t,e){var i=Object.getPrototypeOf(e);i!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,i)},ca=function(t,e){return"/* Wrapped ".concat(t,"*/\n").concat(e)},ua=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),_a=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),da=function(t,e,i){var n=""===i?"":"with ".concat(i.trim(),"() "),s=ca.bind(null,n,e.toString());Object.defineProperty(s,"name",_a),Object.defineProperty(t,"toString",r(r({},ua),{},{value:s}))},pa=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.ignoreNonConfigurable,r=void 0!==s&&s,o=t.name,a=_(Reflect.ownKeys(e));try{for(a.s();!(i=a.n()).done;){var h=i.value;aa(t,e,h,r)}}catch(t){a.e(t)}finally{a.f()}return la(t,e),da(t,e,o),t},fa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ta(t){return t&&t.default||t}var ka,ma=function(){var t={};return t.promise=new Promise((function(e,i){t.resolve=e,t.reject=i})),t},Ea=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var i=fa&&fa.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(s,r){function o(t){try{h(n.next(t))}catch(t){r(t)}}function a(t){try{h(n.throw(t))}catch(t){r(t)}}function h(t){t.done?s(t.value):new i((function(e){e(t.value)})).then(o,a)}h((n=n.apply(t,e||[])).next())}))},n=fa&&fa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(ma);function r(t){var e,n,r,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge",h=function(){return i(o,void 0,void 0,regeneratorRuntime.mark((function o(){var h,l,c,u,d=this;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===e){o.next=2;break}return o.abrupt("return");case 2:h=function(o){return i(d,void 0,void 0,regeneratorRuntime.mark((function i(){var h;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=s.default(),!((h=o[1][a]-Date.now())<=0)){i.next=6;break}return t.delete(o[0]),r.resolve(),i.abrupt("return");case 6:return e=o[0],"function"==typeof(n=setTimeout((function(){t.delete(o[0]),r&&r.resolve()}),h)).unref&&n.unref(),i.abrupt("return",r.promise);case 10:case"end":return i.stop()}}),i)})))},o.prev=3,l=_(t),o.prev=5,l.s();case 7:if((c=l.n()).done){o.next=13;break}return u=c.value,o.next=11,h(u);case 11:o.next=7;break;case 13:o.next=18;break;case 15:o.prev=15,o.t0=o.catch(5),l.e(o.t0);case 18:return o.prev=18,l.f(),o.finish(18);case 21:o.next=25;break;case 23:o.prev=23,o.t1=o.catch(3);case 25:e=void 0;case 26:case"end":return o.stop()}}),o,null,[[3,23],[5,15,18,21]])})))},l=function(){e=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==r&&(r.reject(void 0),r=void 0)},c=t.set.bind(t);return t.set=function(i,n){t.has(i)&&t.delete(i);var s=c(i,n);return e&&e===i&&l(),h(),s},h(),t}e.default=r,t.exports=r,t.exports.default=r}));(ka=Ea)&&ka.__esModule&&Object.prototype.hasOwnProperty.call(ka,"default")&&ka.default;var xa=Ea,ya=new WeakMap,va=new WeakMap,Aa=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.cacheKey,n=e.cache,s=void 0===n?new Map:n,r=e.maxAge;"number"==typeof r&&xa(s);var o=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var a=i?i(n):n[0],h=s.get(a);if(h)return h.data;var l=t.apply(this,n);return s.set(a,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return pa(o,t,{ignoreNonConfigurable:!0}),va.set(o,s),o};Aa.decorator=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,i,n){var s=e[i];if("function"!=typeof s)throw new TypeError("The decorated value must be a function");delete n.value,delete n.writable,n.get=function(){if(!ya.has(this)){var e=Aa(s,t);return ya.set(this,e),e}return ya.get(this)}}},Aa.clear=function(t){var e=va.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if("function"!=typeof e.clear)throw new TypeError("The cache Map can't be cleared!");e.clear()};var ga=/@prettier|@format/,Na=Aa((function(t){var e=xs(t),i=h(e.children,1)[0],n=h(e.comments.filter((function(t){return"commentblock"===t.kind})),1)[0];if(i&&n&&n.loc.start.line<i.loc.start.line)return n}));var Ca=function(t){if(!ga.test(t))return!1;var e=Na(t);if(e){var i=e.value;return ga.test(i)}return!1},Sa=function(t){var e=Na(t);if(e){var i=e.loc,n=i.start.offset,s=i.end.offset,r=t.substring(0,n),o=t.substring(s);return"".concat(r).concat(function(t,e){var i=t.split(/\r?\n/g);if(1===i.length){var n=h(/\/*\*\*(.*)\*\//.exec(i[0]),2)[1];i=["/**"," * ".concat(n.trim())," */"]}var s=i.findIndex((function(t){return/@\S/.test(t)}))||1;return i.splice(s,0," * @format"),i.join(function(t){var e=t.indexOf("\n");return e>=0&&"\r"===t.charAt(e-1)?"\r\n":"\n"}(e))}(e.value,t)).concat(o)}var a="<?php";if(!t.startsWith(a))return t;var l=a.length,c=t.substring(0,l),u=t.substring(l);return"".concat(c,"\n/** \n * @format \n */\n").concat(u)},ba="programming",La="text.html.php",Oa="application/x-httpd-php",Ia="#4F5D95",Ra=[".php",".aw",".ctp",".fcgi",".inc",".php3",".php4",".php5",".phps",".phpt"],wa=[".php",".php_cs",".php_cs.dist","Phakefile"],Da=["php"],Pa=["inc"],Ua={name:"PHP",type:ba,tmScope:La,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Oa,color:Ia,extensions:Ra,filenames:wa,interpreters:Da,aliases:Pa,languageId:272},Ba=Object.freeze({__proto__:null,name:"PHP",type:ba,tmScope:La,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Oa,color:Ia,extensions:Ra,filenames:wa,interpreters:Da,aliases:Pa,languageId:272,default:Ua}),Ma="HTML+PHP",Fa="markup",Ha="text.html.php",Ga="HTML",Va=[".phtml"],Wa="application/x-httpd-php",Qa={name:Ma,type:Fa,tmScope:Ha,group:Ga,extensions:Va,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Wa,languageId:151},Ya=Object.freeze({__proto__:null,name:Ma,type:Fa,tmScope:Ha,group:Ga,extensions:Va,aceMode:"php",codemirrorMode:"php",codemirrorMimeType:Wa,languageId:151,default:Qa}),ja=Ta(Ba),$a=Ta(Ya),za=n.default.doc.builders,Ka=za.join,Xa=za.hardline,Ja=Ca,qa=Sa;function Za(t,e){var i=e.extend,n=e.override,s={};for(var r in t){s["languageId"===r?"linguistLanguageId":r]=t[r]}if(i)for(var o in i)s[o]=(s[o]||[]).concat(i[o]);for(var a in n)s[a]=n[a];return s}var th=[Za(ja,{override:{parsers:["php"],vscodeLanguageIds:["php"]}}),Za($a,{override:{parsers:["php"],vscodeLanguageIds:["php"]}})],eh=function(t){return function(e){return e.loc&&e.loc[t]&&e.loc[t].offset}},ih={php:{parse:xs,astFormat:"php",locStart:eh("start"),locEnd:eh("end"),hasPragma:Ja}},nh={php:{print:na,insertPragma:qa,massageAstNode:sa,getCommentChildNodes:Ar.getCommentChildNodes,canAttachComment:Ar.canAttachComment,isBlockComment:Ar.isBlockComment,handleComments:{ownLine:Ar.handleOwnLineComment,endOfLine:Ar.handleEndOfLineComment,remaining:Ar.handleRemainingComment},willPrintOwnComments:function(t){var e=t.getValue();return e&&"noop"===e.kind},printComment:function(t){var e=t.getValue();switch(e.kind){case"commentblock":if(!e.value.includes("\n"))return e.value;var i=e.value.split(/\r?\n/g);return i.slice(1,i.length-1).every((function(t){return"*"===t.trim()[0]}))?Ka(Xa,i.map((function(t,e){return(e>0?" ":"")+(e<i.length-1?t.trim():t.trimLeft())}))):e.value;case"commentline":return e.value.trimRight();default:throw new Error("Not a comment: ".concat(JSON.stringify(e)))}},hasPrettierIgnore:function(t){var e=function(t){return t.value.includes("prettier-ignore")&&!t.value.includes("prettier-ignore-start")&&!t.value.includes("prettier-ignore-end")},i=t.getParentNode(),n=t.getNode();return n&&"classconstant"!==n.kind&&n.comments&&n.comments.length>0&&n.comments.some(e)||n&&"constant"===n.kind&&i&&"classconstant"===i.kind&&i.comments&&i.comments.length>0&&i.comments.some(e)}}},sh={languages:th,printers:nh,parsers:ih,options:oa,defaultOptions:{tabWidth:4}},rh=sh.languages,oh=sh.printers,ah=sh.parsers,hh=sh.options,lh=sh.defaultOptions;t.default=sh,t.defaultOptions=lh,t.languages=rh,t.options=hh,t.parsers=ah,t.printers=oh,Object.defineProperty(t,"__esModule",{value:!0})}));
